
<!-- saved from url=(0091)https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/recopila.php?id=6201 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<script src="./PROG_T10_files/exe_jquery.js.descarga" type="text/javascript"></script>
<script src="./PROG_T10_files/saved_resource" type="text/javascript"></script>
<script src="./PROG_T10_files/common.js.descarga" type="text/javascript"></script>
<script src="./PROG_T10_files/SCORM_API_wrapper.js.descarga" type="text/javascript"></script>
<script src="./PROG_T10_files/SCOFunctions.js.descarga" type="text/javascript"></script>
<link href="./PROG_T10_files/base.css" type="text/css" rel="stylesheet">
<link href="./PROG_T10_files/content.css" type="text/css" rel="stylesheet">
</head>
<body class=" js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js">
<script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main" role="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">Gestión de bases de datos: relacionales y orientadas a objetos. Persistencia de objetos.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id0">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Caso práctico</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta0_66" class="block iDevice_content">
<div class="elemento_izquierda">
<div class="elemento_centrado"><img src="./PROG_T10_files/PROG11_CONT_R01_CasoNotaria.jpg" alt="Fachada con la puerta de una notaría." title="Notaría" class="elemento_izquierda" style="float: left;" height="128" width="192"></div>
<div class="elemento_centrado credenciales"><a class="cc-by" title="CC by" href="http://creativecommons.org/licenses/by/3.0/deed.es" target="_blank"><span class="transparente">CC by</span></a> <a title="Dantadd" href="http://commons.wikimedia.org/wiki/File:Notariavigo.jpg" target="_blank">Dantadd</a></div>
</div>
<p><strong>Ada</strong> ha asignado un proyecto a <strong>María</strong> y a <strong>Juan</strong>. Se trata de un proyecto importante, puede suponer muchas ventas, y por tanto una gran expansión para la empresa.</p>
<p>En concreto, un notario de renombre en el panorama nacional, se dirigió a<strong> BK programación</strong> para pedirles que les desarrolle un programa para su notaría, de modo que toda la gestión de la misma, incluyendo la emisión de las escrituras, se informatizaran. Además, si el programa es satisfactorio, se encargará de promocionar la aplicación ante el resto de sus conocidos notarios, pudiendo por tanto suponer muchas ventas y por ello, dinero.</p>
<p>Una cuestión vital en la aplicación es el almacenamiento de los datos. Los datos de los clientes, y de las escrituras deberán guardarse en bases de datos, para su tratamiento y recuperación las veces que haga falta.</p>
<p>Como en<strong> BK programación</strong> trabajan sobre todo con <span lang="en">Java</span>, desde el primer momento <strong>Juan</strong> y<strong> María</strong> tienen claro que van a tener que utilizar bases de datos relacionales y <acronym title="Java" lang="en">JDBC</acronym> y así lo comentan con <strong>Ada</strong>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id48">
<div class="iDevice emphasis0">
<div id="ta48_69" class="block iDevice_content">
<p><img src="./PROG_T10_files/PROG11_CONT_R01_01_baul.jpg" alt="Ilustración de un baúl de color marrón con la tapa medio abierta." title="Baúl." class="elemento_derecha">Casi todos los programas hoy día tienen la opción de guardar los datos con los que se trabaja.</p>
<p>Hasta ahora, ya conoces cómo abrir un archivo y utilizarlo como “almacén” para los datos que maneja tu aplicación. Utilizar un archivo para almacenar datos es la forma más sencilla de persistencia, porque en definitiva, <strong>la persistencia es hacer que los datos perduren en el tiempo</strong>.</p>
<p>Hay muchas formas de hacer los datos de una aplicación persistentes, y muchos <strong>niveles de persistencia</strong>. Cuando los datos de la aplicación solo están disponibles mientras la aplicación se está ejecutando, tenemos un nivel de persistencia muy bajo.</p>
<p class="destacado" style="text-align: center;"><strong>Es deseable que los datos de nuestra aplicación tengan el mayor nivel de persistencia posible</strong>.</p>
<p>Tendremos un mayor nivel de persistencia si los datos “sobreviven” a varias ejecuciones, o lo que es lo mismo, si nuestros datos se guardan y luego son reutilizables con posterioridad. Tendremos un nivel todavía mayor si “sobreviven” a varias versiones de la aplicación, es decir, si guardo los datos con la versión 1.0 de la aplicación y luego puedo utilizarlos cuando esté disponible la versión 2.0.</p>
<p>Ya hemos visto varias formas de hacer los datos de una aplicación persistentes, mediante ficheros, en una unidad anterior. Ahora, en esta unidad, vamos a ver la forma de almacenar los datos en una base de datos de dos formas: primeramente en una base de datos relacional, y después veremos cómo se haría con bases de datos orientadas a objetos.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper DestacadofpdIdevice" id="id47">
<div class="iDevice emphasis0">
<div class="iDevice_destacadofpd">
<div id="ta47_70" class="block iDevice_content">
<div align="center"><span style="font-size: large;"><strong><img src="./PROG_T10_files/Junta_Andalucia3.jpg" alt="Logotipo de la Junta de Andalucía." title="Logotipo de la Junta de Andalucía."><img src="./PROG_T10_files/by-nc-sa.eu_petit.png" alt="Derechos de los materiales." title="Derechos de los materiales." style="float: right;"></strong></span>
<div style="text-align: center;" align="right"><span style="font-size: large;"><strong>Materiales actualizados por el profesorado de la Junta de Andalucía.</strong></span></div>
<p style="text-align: center;"><a title="Acceder al Aviso legal para los materiales formativos de FP en línea." href="http://es.creativecommons.org/blog/licencias/">Aviso Legal</a></p>
</div>
<div align="center"><img alt="Logotipo del Ministerio de Educación, Cultura y Deporte. Junto a una banda vertical que representa esquemáticamente la bandera de Europa y otra que representa la bandera de España, aparece el escudo de España, y el texto: Gobierno de España. Ministerio de Educación, Cultura y Deporte." src="./PROG_T10_files/web-web-EducacionCulturaYDeporte-_63px.jpg" style="height: 63px; width: 261px; display: block; margin-left: auto; margin-right: auto;" title="Logotipo del Ministerio de Educación, Cultura y Deporte." height="63" width="261"></div>
<div align="center"><span style="font-size: large;"><strong>Materiales formativos de <acronym title="Formación Profesional.">FP</acronym> <span lang="en">Online</span> propiedad del Ministerio de Educación, Cultura y Deporte.</strong></span></div>
<div align="center"><a title="Acceder al Aviso legal para los materiales formativos de FP Online del MECD." href="http://www.educacion.gob.es/fponline/aviso-legal.html">Aviso Legal</a></div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.- Bases de datos relacionales.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id1">
<div class="iDevice emphasis0">
<div id="ta1_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><a title="Imagen ampliable." href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R02_Tabla.JPG"><img alt="Tabla de una base de datos." class="imagen_ampliable" src="./PROG_T10_files/PROG11_CONT_R02_Tabla_miniatura.jpg" style="width: 192px; height: 104px;" title="Tabla." height="104" width="192"></a></div>
</div>
<p>Hoy en día, la mayoría de aplicaciones informáticas necesitan almacenar y gestionar gran cantidad de datos.</p>
<p>Esos datos, se suelen guardar en <strong>bases de datos relacionales</strong>, ya que éstas son las más extendidas actualmente.</p>
<p>Las bases de datos relacionales permiten organizar los datos en <strong>tablas</strong> y esas tablas y datos se relacionan mediante <strong>campos clave</strong>. Además se trabaja con el lenguaje estándar conocido como<strong> <acronym title="structured query language" lang="en">SQL</acronym></strong>, para poder realizar las consultas que deseemos a la base de datos.</p>
<p>Una base de datos relacional se puede definir de una manera simple como aquella que presenta la información en tablas con filas y columnas.</p>
<p>Una <strong>tabla es una serie de filas y columnas</strong>, en la que <strong>cada fila es un registro</strong> y <strong>cada columna es un campo</strong>. Un <strong>campo</strong> representa un dato de los elementos almacenados en la tabla (<acronym title="Número de la Seguridad Social.">NSS</acronym>, nombre, <abbr title="etcétera.">etc.</abbr>). Cada registro representa un elemento de la tabla (el equipo Real Madrid, el equipo Real Murcia, <abbr title="etcétera.">etc.</abbr>)</p>
<p>No se permite que pueda aparecer dos o más veces el mismo registro, por lo que uno o más campos de la tabla forman lo que se conoce como <a class="glosario" href="./PROG_T10_files/saved_resource">clave primaria<span><em>clave primaria</em>Es el atributo que se elige como identificador en una tabla, de manera que no haya dos registros iguales, sino que se diferencien al menos en esa clave. Por ejemplo, en el caso de una tabla que guarda datos de personas, el número de la seguridad social, podría elegirse como clave primaria, ya que aunque haya dos personas que se llamen igual, (por ejemplo, dos Juan Pérez Pérez), tenemos la certeza de que su número de seguridad social será distinto.</span></a>.</p>
<p>El sistema gestor de bases de datos, en inglés conocido como: <strong><span lang="en">Database Management System</span> (<acronym title="Database Management System" lang="en">DBMS</acronym>)</strong>, gestiona el modo en que los datos se almacenan, mantienen y recuperan.</p>
<p>En el caso de una base de datos relacional, el sistema gestor de base de datos se denomina: <strong>Relational Database Management System (<acronym title="Relational Database Management System" lang="en">RDBMS</acronym>), </strong>que podríamos traducir por Sistema Gestor de Bases de Datos Relacionales.</p>
<p>Tradicionalmente, la programación de bases de datos ha sido como una Torre de Babel: gran cantidad de productos de bases de datos en el mercado, y cada uno "hablando" en su lenguaje privado con las aplicaciones.</p>
<p><span lang="en">Java</span>, mediante <a class="glosario" href="./PROG_T10_files/saved_resource">JDBC<span><em>JDBC</em>API que permite la ejecución de operaciones sobre bases de datos desde el lenguaje de programación Java, independientemente del sistema operativo donde se ejecute o de la base de datos a la cual se accede</span></a> (<strong><em><span lang="en">Java Database Connectivity</span></em></strong>), permite <strong>simplificar el acceso a base de datos</strong>, proporcionando un lenguaje mediante el cual las aplicaciones pueden comunicarse con motores de bases de datos. La empresa <span lang="en">Sun</span> desarrolló este <acronym title="Application Programming Interface." lang="en">API</acronym> para el acceso a bases de datos, con tres objetivos principales en mente:</p>
<ul class="lista_verificacion">
<li>Ser un <acronym title="Application Programming Interface." lang="en">API</acronym> con soporte de <acronym title="Structured Query Language." lang="en">SQL</acronym>: poder construir sentencias <acronym title="Structured Query Language" lang="en">SQL</acronym> e insertarlas dentro de llamadas al <acronym title="Application Programming Interface." lang="en">API</acronym> de <span lang="en">Java</span>.</li>
<li>Aprovechar la experiencia de los <acronym title="Application Programming Interface." lang="en">API</acronym> de Bases de Datos existentes.</li>
<li>Ser sencillo.</li>
</ul>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id2">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta2_54" class="block iDevice_content">

</div>
<div class="question">
<form name="true-false-form-0b2" action="https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/recopila.php?id=6201#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b2" class="block iDevice_content">
<p><strong><acronym title="Java Database Connectivity." lang="en">JDBC</acronym> permite acceder a bases de datos relacionales cuando programamos con Java, pudiendo así utilizar <acronym title="Structured Query Languaje." lang="en">SQL</acronym>.</strong></p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b2"><input type="radio" name="option0b2" id="true0b2" onclick="$exe.getFeedback(0,2,&#39;0b2&#39;,&#39;truefalse&#39;)"> Verdadero</label> 
<label for="false0b2"><input type="radio" name="option0b2" id="false0b2" onclick="$exe.getFeedback(1,2,&#39;0b2&#39;,&#39;truefalse&#39;)"> Falso</label>
</p>
</form>
<div id="s0b2" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b2-result" class="right">Verdadero</strong></p>
<p><acronym title="Java Database Connectivity" lang="en">JBDC</acronym> sirve para acceder a bases de datos relacionales con <span lang="en">Java</span>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id3">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Para saber más</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta3_47" class="block iDevice_content">
<p>Si necesitas refrescar o simplemente aprender el concepto de clave primaria, en la Wikipedia puedes consultarlo.</p>
<div class="enlace_centrado"><a class="html" title="Acceder a la definición de clave primaria en Wikipedia." href="http://es.wikipedia.org/wiki/Clave_primaria"> Clave primaria.</a></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.1.- El desfase objeto-relacional.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id4">
<div class="iDevice emphasis0">
<div id="ta4_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./PROG_T10_files/PROG11_CONT_R03_objetos.JPG" alt="Jugadores de dos equipos jugando un partido." title="Jugadore." style="float: right;" height="200" width="192"></div>
<div class="elemento_centrado credenciales"><a class="cc-by-sa" title="CC by-sa" href="http://creativecommons.org/licenses/by-sa/3.0/deed.es" target="_blank"><span class="transparente">CC by-sa</span></a> <a title="Henrygb" href="http://commons.wikimedia.org/wiki/Ronaldo?uselang=es#mediaviewer/File:Real_Madrid_v_Real_Sociedad.jpg" target="_blank">Henrygb</a></div>
</div>
<p>El <strong>desfase objeto-relacional</strong>, también conocido como<strong> impedancia objeto-relacional</strong>, consiste en la diferencia de aspectos que existen entre la programación orientada a objetos y la base de datos. Estos aspectos se puede presentar en cuestiones como:</p>
<ul class="lista_verificacion">
<li><strong>Lenguaje de programación: </strong> el programador debe conocer el lenguaje de programación orientada a objetos (<acronym title="Programación Orientada a Objetos.">POO</acronym>) y el lenguaje de acceso a datos.</li>
<li><strong>Tipos de datos:</strong> en las bases de datos relacionales siempre hay restricciones en cuanto a los tipos de datos que se pueden usar, que suelen ser sencillos, mientras que la programación orientada a objetos utiliza tipos de datos más complejos.</li>
<li><strong><a class="glosario" href="./PROG_T10_files/saved_resource">Paradigma<span><em>Paradigma</em>Es una propuesta tecnológica, un modelo, adoptada por una comunidad de programadores que unívocamente trata de resolver uno o varios problemas claramente delimitados. Tiene una estrecha relación con la formalización de determinados lenguajes en su momento de definición. Un paradigma de programación está delimitado en el tiempo en cuanto a aceptación y uso ya que nuevos paradigmas aportan nuevas o mejores soluciones que la sustituyen parcial o totalmente.</span></a> </strong><strong>de programación:</strong> en el proceso de diseño y construcción del <span lang="en">software</span> se tiene que hacer una traducción del modelo orientado a objetos de clases al<strong> modelo Entidad-Relación (<acronym title="Entidad Relación.">E/R</acronym>)</strong> puesto que el primero maneja objetos y el segundo maneja tablas y tuplas o filas, lo que implica que se tengan que diseñar dos diagramas diferentes para el diseño de la aplicación.</li>
</ul>
<p>El modelo relacional trata con relaciones y conjuntos debido a su <strong>naturaleza matemática</strong>. Sin embargo, el modelo de Programación Orientada a Objetos trata con objetos y las asociaciones entre ellos. Por esta razón, el problema entre estos dos modelos surge en el momento de querer hacer persistentes en la base de datos los objetos de negocio que maneja la aplicación.</p>
<p>La escritura (y de manera similar la lectura) mediante <acronym title="Java Database Connectivity." lang="en">JDBC</acronym> implica: abrir una conexión, crear una sentencia en <acronym title="Structured Query Language." lang="en">SQL</acronym> y copiar todos los valores de las propiedades o atributos de un objeto en la sentencia, ejecutarla y así almacenar el objeto. Esto es sencillo para un caso simple, pero trabajoso si el objeto posee muchas propiedades, o bien si se necesita almacenar un objeto que a su vez posee una colección de otros elementos que también son objetos. Se necesita crear mucho más código, además del tedioso trabajo de creación de sentencias <acronym title="Strtuctured Query Language." lang="en">SQL</acronym>.</p>
<p>Este problema es lo que denominábamos <strong>impedancia </strong><strong>Objeto-Relacional</strong>, o sea, el conjunto de dificultades técnicas que surgen cuando una base de datos relacional se usa en asociación con un programa escrito en un lenguajes de Programación Orientada a Objetos.</p>
<p>Podemos poner como ejemplo de desfase objeto-relacional, un equipo de fútbol, que tenga un atributo que sea una colección de objetos de la clase Jugador. Cada jugador tiene un atributo "teléfono". Al transformar este caso a relacional se ocuparía más de una tabla para almacenar la información, implicando varias sentencias <acronym title="Strtuctured Query Language." lang="en">SQL</acronym> y bastante código.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper DebesconocerfpdIdevice em_iDevice" id="id5">
<div class="iDevice emphasis_debesconocerfpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Debes conocer</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta5_48" class="block iDevice_content">
<p>Si no has estudiado nunca bases de datos, ni tienes idea de qué es <acronym title="Strtuctured Query Language." lang="en">SQL</acronym> o el modelo relacional, sería conveniente que te familiarizaras con él. A continuación te indicamos un tutorial bastante ameno sobre <acronym title="Strtuctured Query Language." lang="en">SQL</acronym> y  que describe brevemente el modelo relacional.</p>
<div class="enlace_centrado"><a class="html" title="Acceder al tutorial de SQL" href="http://www.aulaclic.es/sql/"> Tutorial SQL.</a></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.2.- JDBC.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id6">
<div class="iDevice emphasis0">
<div id="ta6_73" class="block iDevice_content">
<p><img alt="Rectángulo amarillo donde se pueden leer las palabras jdbc-odbc." class="elemento_derecha" src="./PROG_T10_files/PROG11_CONT_R04_jdbc.JPG" style="width: 200px; height: 120px;" title="jdbc." height="120" width="200"> <acronym title="Java Database Connectivity." lang="en">JDBC</acronym> es un <acronym title="Application Programming Interface." lang="en">API</acronym> <span lang="en">Java</span> que hace posible ejecutar sentencias <acronym title="Strtuctured Query Language." lang="en">SQL</acronym>.</p>
<p>De <acronym title="Java Database Connectivity." lang="en">JDBC</acronym> podemos decir que:</p>
<ul class="lista_verificacion">
<li>Consta de un <strong>conjunto de clases e interfaces</strong> escritas en <span lang="en">Java</span>.</li>
<li>Proporciona un <acronym title="Application Programming Interface." lang="en">API</acronym> estándar para desarrollar aplicaciones de bases de datos con un <acronym title="Application Programming Interface." lang="en">API</acronym> <span lang="en">Java</span> pura.</li>
</ul>
<p><strong>Con <acronym title="Java Database Connectivity." lang="en">JDBC</acronym></strong>, no hay que escribir un programa para acceder a una base de datos <strong><span lang="en">Access</span></strong>, otro programa distinto para acceder a una base de datos<strong> <span lang="en">Oracle</span></strong>, <abbr title="etcétera.">etc.</abbr>, sino que <strong>podemos escribir</strong> <strong>un único programa</strong> con el <acronym title="Application Programming Interface." lang="en">API</acronym> <acronym title="Java Database Connectivity." lang="en">JDBC</acronym> y el programa se encargará de enviar las sentencias <acronym title="Strtuctured Query Language." lang="en">SQL</acronym> a la base de datos apropiada. Además, y como ya sabemos, una aplicación en <span lang="en">Java</span> puede ejecutarse en plataformas distintas.</p>
<p>En el desarrollo de  <acronym title="Java Database Connectivity." lang="en">JDBC</acronym>, y debido a la confusión que hubo por la proliferación de <acronym title="Application Programming Interface." lang="en">API</acronym> propietarios de acceso a datos, <span lang="en">Sun </span>buscó los aspectos de éxito de un <acronym title="Application Programming Interface." lang="en">API</acronym> de este tipo, <a class="glosario" href="./PROG_T10_files/saved_resource">ODBC<span><em>ODBC</em>Es un API de acceso a datos, desarrollado por Microsoft, con la idea de tener un estándar para el acceso a bases de datos en entornos Windows.</span></a> (<span lang="en">Open Database Connectivity</span>).</p>
<p><acronym title="Open Database Connectivity." lang="en">ODBC</acronym> se desarrolló con la idea de tener un estándar para el acceso a bases de datos en entornos <span lang="en">Windows</span>.</p>
<p>Aunque la industria ha aceptado <acronym title="Open Database Connectivity." lang="en">ODBC</acronym> como medio principal para acceso a bases de datos en<span lang="en"> Windows</span>, <acronym title="Open Database Connectivity." lang="en">ODBC</acronym> no se introduce bien en el mundo <span lang="en">Java</span>, debido a la complejidad que presenta <acronym title="Open Database Connectivity." lang="en">ODBC</acronym>, y que entre otras cosas ha impedido su transición fuera de entornos <span lang="en">Windows</span>.</p>
<p>El <a class="glosario" href="./PROG_T10_files/saved_resource">nivel de abstracción<span><em>nivel de abstracción</em>Uno de los objetivos fundamentales de una base de datos es proporcionar a los usuarios una visión abstracta de los datos. Es decir, el sistema oculta ciertos detalles relativos a la forma en que se almacenan y mantienen los datos. Esto se logra definiendo tres niveles de abstracción en los que puede considerarse la base de datos: físico, conceptual y de visión.</span></a> al que trabaja  <acronym title="Java Database Connectivity." lang="en">JDBC</acronym> es alto en comparación con <acronym title="Open Database Connectivity." lang="en">ODBC</acronym>, la intención de <span lang="en">Sun </span>fue que supusiera la base de partida para crear librerías de más alto nivel.</p>
<p><acronym title="Java Database Connectivity." lang="en">JDBC</acronym> intenta ser tan simple como sea posible, pero proporcionando a los desarrolladores la máxima flexibilidad.</p>
<p> </p>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id7">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta7_54" class="block iDevice_content">

</div>
<div class="question">
<form name="true-false-form-0b7" action="https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/recopila.php?id=6201#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b7" class="block iDevice_content">
<p><strong> <acronym title="Java Database Connectivity." lang="en">JDBC</acronym> es la versión de <acronym title="Open Database Connectivity." lang="en">ODBC</acronym> para<span lang="en"> Linux</span>.</strong></p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b7"><input type="radio" name="option0b7" id="true0b7" onclick="$exe.getFeedback(0,2,&#39;0b7&#39;,&#39;truefalse&#39;)"> Verdadero</label> 
<label for="false0b7"><input type="radio" name="option0b7" id="false0b7" onclick="$exe.getFeedback(1,2,&#39;0b7&#39;,&#39;truefalse&#39;)"> Falso</label>
</p>
</form>
<div id="s0b7" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b7-result" class="wrong">Falso</strong></p>
<p><acronym title="Open Database Connectivity." lang="en">ODBC</acronym> se desarrolló para ser un estándar para el acceso a bases de datos en entornos <span lang="en">Windows</span>, y <acronym title="Java Database Connectivity." lang="en">JDBC</acronym> pretendió recoger esta idea para construir un <acronym title="Application Programming Interface." lang="en">API</acronym> genérico independiente de la plataforma.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.3.-  Conectores o Drivers.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id8">
<div class="iDevice emphasis0">
<div id="ta8_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><a title="Imagen ampliable." href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R05_01_esquemabc.JPG"><img alt="Dos rectángulos en la parte superior que ponen aplicación 1 y aplicación 2. Sendas flechas bidireccionales verticales desde los rectángulos a un rectángulo grande, más abajo, que pone JDBC. Tres flechas bidireccionales más abajo que van hasta tres cilindros que ponen cada uno: MySQL, Oracle, SyBase" class="imagen_ampliable" src="./PROG_T10_files/PROG11_CONT_R05_01_esquemabc_miniatura.JPG" style="width: 152px; height: 192px;" title="Esquema JDBC." height="192" width="152"></a></div>
</div>
<p>El <acronym title="Application Programming Interface." lang="en">API</acronym> <acronym title="Java Database Connectivity." lang="en">JDBC</acronym> viene distribuido en dos paquetes:</p>
<ul class="lista_verificacion">
<li>java.sql, dentro de <acronym title="Java Platform, Standard Edition." lang="en">J2SE </acronym></li>
<li>javax.sql, extensión dentro de <acronym title="Java Platform, Enterprise Edition." lang="en">J2EE </acronym></li>
</ul>
<p>Un conector o <span lang="en">driver </span>es un conjunto de clases encargadas de implementar las interfaces del <acronym title="Application Programming Interface." lang="en">API</acronym> y acceder a la base de datos.</p>
<p>Para poder conectarse a una base de datos y lanzar consultas, una aplicación necesita tener un conector adecuado. Un conector suele ser un fichero .jar que contiene una implementación de todas las interfaces del <acronym title="Application Programming Interface." lang="en">API</acronym> <acronym title="Java Database Connectivity." lang="en">JDBC</acronym>.</p>
<p>Cuando se construye una aplicación de base de datos, <strong><acronym title="Java Database Connectivity." lang="en">JDBC</acronym> oculta los detalles específicos de cada base de datos</strong>, de modo que al programar nos ocupemos sólo de nuestra aplicación.</p>
<p><strong>El conector lo proporciona el fabricante de la base de datos o bien un tercero</strong>.</p>
<p>El código de nuestra aplicación no depende del <span lang="en">driver</span>, puesto que trabajamos contra los paquetesjava.sql y <code>javax.sql</code>.</p>
<p><acronym title="Java Database Connectivity." lang="en">JDBC</acronym> ofrece las clases e interfaces para:</p>
<ul class="lista_verificacion">
<li>Establecer una conexión a una base de datos.</li>
<li>Ejecutar una consulta.</li>
<li>Procesar los resultados.</li>
</ul>
<p>Ejemplo:</p>
<div class="elemento_centrado">
<div class="elemento_centrado"><a title="Imagen ampliable" href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R05_02_conectar.jpg"><img alt="Código en Java para crear una conexión con una base de datos y ejecutar una consulta. Se incluye en archivo enlazado bajo la imagen." class="imagen_ampliable" src="./PROG_T10_files/PROG11_CONT_R05_02_conectar_miniatura.jpg" style="width: 192px; height: 84px;" title="Separador de ruta de ficheros." height="84" width="192"></a></div>
</div>
<div class="enlace_centrado"><a class="documento" title="Descargar archivo con el código para establecer conexión y realizar consulta a una  Base de Datos. [.txt – 1 KB]" href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R05_03_conectar.txt"> Código Java para establecer una conexión y ejecutar consulta. </a><span class="tamano">(1 KB)</span></div>
<p>En principio, todos los conectores deben ser compatibles con <acronym title="American National Standards Institute." lang="en">ANSI</acronym> <acronym title="Structured Query Language." lang="en">SQL</acronym>-2 <span lang="en">Entry Level</span> (<acronym title="American National Standards Institute." lang="en">ANSI</acronym> <acronym title="Structured Query Language." lang="en">SQL</acronym>-2 se refiere a los estándares adoptados por el <strong><span lang="en">American National Standards Institute</span></strong> (<acronym title="American National Standards Institute." lang="en">ANSI</acronym>) en 1992. <span lang="en">Entry Level</span> se refiere a una lista específica de capacidades de <acronym title="Structured Query Language." lang="en">SQL</acronym>). Los desarrolladores de conectores pueden establecer que sus conectores conocen estos estándares.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id9">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Para saber más</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta9_47" class="block iDevice_content">
<p>Lista sobre los conectores <acronym title="Java Database Connectivity." lang="en">JDBC</acronym> para acceder a muchas las bases de datos listadas.</p>
<div class="enlace_centrado"><a class="html" title="Acceder a una web con un listado de conectores JDBC" href="http://www.devx.com/tips/Tip/28818"> Conectores JDBC</a></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.4.- Instalación de la base de datos.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id10">
<div class="iDevice emphasis0">
<div id="ta10_73" class="block iDevice_content">
<p align="justify"><img width="164" height="160" title="Base de datos." class="elemento_derecha" style="width: 164px; height: 160px;" alt="Icono de una base de datos en los diagramas de flujo." src="./PROG_T10_files/PROG11_CONT_R05_Basededatos.jpg"> ¿Qué es lo primero que tenemos que hacer, para poder realizar consultas en una base de datos?</p>
<p align="justify">Obviamente, instalar la base de datos. Dada la cantidad de productos de este tipo que hay en el mercado, es imposible explicar la instalación de todas. Así que vamos a optar por una, en concreto por <span lang="en">MySQL,</span> ya que es un sistema gestor gratuito y que funciona en varias plataformas.</p>
<p align="justify">Para instalar <span lang="en">MySQL</span> en <span lang="en">Windows</span> puedes seguir los pasos que te detallamos en la siguiente presentación, descargando el instalador de la página oficial <a class="html" title="Descargar instalador mysql" href="https://dev.mysql.com/downloads/installer/" target="_blank">https://dev.mysql.com/downloads/installer/</a>:</p>
<div class="elemento_centrado">
<div class="elemento_centrado"></div>
<div class="credenciales elemento_centrado"><a title="Acceder al resumen textual alternativo para " instalar="" mysql""="" href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_Descripcion_Presentacion_Instalar_MYSQL.html">Resumen textual alternativo para Instalar MySQL</a></div>
</div>
<p> </p>
<p>Si utilizas <span lang="en">Linux</span>, el sitio de descarga es el mismo que el indicado en la presentación anterior, y la instalación la puedes hacer con los pasos que te indican en el enlace:</p>
<div class="enlace_centrado"><a class="html" title="Acceder a una web con información sobre instalación de  MySQL en Linux." href="http://www.alcancelibre.org/staticpages/index.php/como-mysql-quickstart" target="_blank"> Instalar <span lang="en">MySQL</span> en Linux.</a></div>
<p> </p>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id12">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Para saber más</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta12_47" class="block iDevice_content">
<p>De <span lang="en">MySQL</span> se escindieron otras bases de datos, como <span lang="en">MariaDB</span> y <span lang="en">Percona</span>, que cada vez están teniendo mayor número de seguidores.</p>
<p>En el siguiente enlace puedes obtener información sobre <span lang="en">MariaDB</span></p>
<div class="enlace_centrado"><a class="html" title="Acceder a un artículo web sobre la historia de MariaDB." href="https://es.wikipedia.org/wiki/MariaDB" target="_blank"> MariaDB.</a></div>
<div class="enlace_centrado" style="text-align: left;">Sobre <span lang="en">Percona</span>, aunque está en inglés, puedes ver en este artículo que está lanzando su base de datos con prestaciones verdaderamente competentes respecto a los productos de <span lang="en">Oracle</span>:</div>
<div class="enlace_centrado" style="text-align: center;"><a class="html" title="Acceder a un artículo web: Percona desafía a Oracle. (En inglés)" href="http://www.pcworld.com/article/2054060/percona-challenges-oracle-with-alternate-mysql-release.html" target="_blank">Percona desafía a Oracle.</a></div>
<div class="enlace_centrado" style="text-align: left;"> </div>
<div class="enlace_centrado" style="text-align: left;">Aquí puedes ver un mapa de las bifurcaciones de <span lang="en">MySQL</span></div>
<div class="enlace_centrado" style="text-align: center;"><a class="html" title="Acceder a una web con el Mapa de los derivados de MySQL" href="http://databaseblog.myname.nl/2013/01/mysql-version-history.html" target="_blank">Mapa bifurcaciones MySQL</a></div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id11">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta11_54" class="block iDevice_content">

</div>
<div class="question">
<form name="true-false-form-0b11" action="https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/recopila.php?id=6201#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b11" class="block iDevice_content">
<p><strong>Para programar accesos a <span lang="en">MySQL</span> hay que tener el <span lang="en">driver</span> <acronym title="Java Database Connectivity." lang="en"><span lang="en">JDBC</span></acronym> para <span lang="en">MySQL</span> en nuestra aplicación.</strong></p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b11"><input type="radio" name="option0b11" id="true0b11" onclick="$exe.getFeedback(0,2,&#39;0b11&#39;,&#39;truefalse&#39;)"> Verdadero</label> 
<label for="false0b11"><input type="radio" name="option0b11" id="false0b11" onclick="$exe.getFeedback(1,2,&#39;0b11&#39;,&#39;truefalse&#39;)"> Falso</label>
</p>
</form>
<div id="s0b11" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b11-result" class="right">Verdadero</strong></p>
<p>De no ser así será imposible conectarnos a la base de datos.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.5.- Creación de las tablas en una base de datos.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id13">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Caso práctico</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta13_66" class="block iDevice_content">
<p><img alt="María sentada, trabajando escribiendo con un ordenador, mirando a la pantaalla y tecleando." class="elemento_izquierda" src="./PROG_T10_files/EIN_JYM_Caso_MariaOrdenador_FOT.jpg" style="width: 196px; height: 132px;" title="María trabajando. " height="132" width="196"></p>
<p><strong>María</strong>, <strong>Ada</strong> y <strong>Juan</strong> han realizado concienzudamente el diseño de las tablas necesarias para la base de datos de la aplicación de notarías.</p>
<p>También se han decantado por el sistema gestor de bases de datos a utilizar. Emplearán un sistema gestor de bases de datos relacional. Una vez instalado el sistema gestor, tendrán que programar los accesos a la base de datos para guardar los datos, recuperarlos, realizar las consultas para los informes y documentos que sean necesarios,<abbr title="etcétera."> etc.</abbr></p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id14">
<div class="iDevice emphasis0">
<div id="ta14_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./PROG_T10_files/PROG11_CONT_R08_escritura.JPG" alt="Escritura notarial." title="Escritura notarial." class="elemento_derecha" style="float: right;"></div>
<div class="elemento_centrado credenciales"><a class="cc-by-nc-sa" title="CC by-nc-sa" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.es" target="_blank"><span class="transparente">CC by-nc-sa</span></a> <a title="Mircea Turcan" href="http://www.flickr.com/photos/sincretic/1225213419/" target="_blank">Mircea Turcan</a></div>
</div>
<p>En <span lang="en">Java</span> podemos conectarnos y manipular bases de datos utilizando <acronym title="Java Database Connectivity." lang="en">JDBC</acronym>. Pero la creación en sí de la base de datos debemos hacerla con la herramienta específica para ello. Normalmente será el administrador de la base de datos, a través de las herramientas que proporcionan el sistema gestor, el que creará la base de datos. No todos los <span lang="en">drivers</span> <acronym title="Java Database Connectivity." lang="en">JDBC</acronym> soportan la creación de la base de datos mediante el lenguaje de definición de datos (<strong><abbr title="Data Definition Language." lang="en">DDL</abbr></strong>).</p>
<p>Normalmente, cualquier sistema gestor de bases de datos incluye asistentes gráficos para crear la base de datos con sus tablas, <a class="glosario" href="./PROG_T10_files/saved_resource">claves<span><em>claves</em>Una clave consiste en un subconjunto del conjunto de atributos comunes en una colección de entidades, que permite identificar unívocamente cada una de las entidades pertenecientes a dicha colección.</span></a>, y todo lo necesario.</p>
<p>También, como en el caso de <span lang="en">MySQL</span>, o de<span lang="en"> Oracle</span>, y la mayoría de sistemas gestores de bases de datos, se puede crear la base de datos, desde la <a class="glosario" href="./PROG_T10_files/saved_resource">línea de comandos<span><em>línea de comandos</em>Es un método que permite a los usuarios dar instrucciones a algún programa informático por medio de una línea de texto simple.</span></a> de <span lang="en">MySQL</span> o de <span lang="en">Oracle</span>, con las sentencias <acronym title="Structured Query Language." lang="en">SQL</acronym> apropiadas.</p>
<p>Vamos utilizar el sistema gestor de base de datos <span lang="en">MySQL</span>, por ser un producto gratuito y de fácil uso, además de muy potente.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper DebesconocerfpdIdevice em_iDevice" id="id15">
<div class="iDevice emphasis_debesconocerfpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Debes conocer</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta15_48" class="block iDevice_content">
<p>Veamos cómo crear paso a paso un esquema de base de datos con <span lang="en">MySQL WorkBench</span>, para usar en la aplicación de notarías, y una tabla, la de clientes. Lo puedes ver en la siguiente presentación:</p>
<div class="elemento_centrado">
<div class="elemento_centrado"></div>
<div class="credenciales elemento_centrado"><a title="Acceder al resumen textual alternativo para " crear="" tabla="" mysql""="" href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_Descripcion_Presentacion_Crear_Tabla.html">Resumen textual alternativo para "Crear tablas con <span lang="en">MySQL</span>"</a></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id16">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Para saber más</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta16_47" class="block iDevice_content">
<p>Aquí puedes ver un vídeo sobre la instalación de la base de datos <span lang="en">Oracle Express</span> y creación de tablas.</p>
<div class="elemento_centrado">
<div class="elemento_centrado"></div>
<div class="credenciales elemento_centrado"><a title="Acceder al resumen textual alternativo para " instalar="" oracle="" express="" y="" crear="" tablas.""="" href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_Descripcion_Video_Inst_Oracle_Crear_Tablas.html">Resumen textual alternativo para para "Instalar <span lang="en">Oracle Express</span> y crear tablas."</a></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.5.1.- Lenguaje SQL (I).</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id17">
<div class="iDevice emphasis0">
<div id="ta17_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./PROG_T10_files/PROG11_CONT_R10_SQLFundamental.jpg" alt="Imagen de la portada de un libro que pone: SQL Fundamental." title="Foto que pone: SQL Fundamental." style="float: right;"></div>
<div class="elemento_centrado credenciales"><a class="cc-by-nc-sa" title="CC by-nc-sa" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.es" target="_blank"><span class="transparente">CC by-nc-sa</span></a> <a title="Jinho Jung" href="http://www.flickr.com/photos/phploveme/2630802644/" target="_blank">Jinho Jung</a></div>
</div>
<p>¿Cómo le pedimos al Sistema Gestor de Bases de Datos Relacional (<acronym title=" Sistema Gestor de Bases de Datos Relacional.">SGBDR</acronym>), en concreto en este caso, al de <span lang="en">MySQL</span>, que nos proporcione la información que nos interesa de la base de datos?</p>
<p>Se utiliza el <strong>lenguaje <acronym title="Structured Query Language." lang="en">SQL</acronym> </strong>para interactuar con el <acronym title=" Sistema Gestor de Bases de Datos Relacional.">SGBDR</acronym>.</p>
<p><acronym title="Structured Query Language." lang="en">SQL</acronym> es un lenguaje <strong>no</strong> <strong>procedimental</strong> en el cual se le indica al SGBDR <strong>qué</strong> queremos obtener y <strong>no cómo hacerlo</strong>. El  <acronym title=" Sistema Gestor de Bases de Datos Relacional.">SGBDR</acronym> analiza nuestra orden y si es correcta sintácticamente la ejecuta.</p>
<p>El estudio de <acronym title="Structured Query Language." lang="en">SQL</acronym> nos llevaría mucho más que una unidad, y es objeto de estudio en otros módulos de este ciclo formativo. Pero como resulta imprescindible para poder continuar, haremos una mínima introducción sobre él.</p>
<p>Los comandos <acronym title="Structured Query Language." lang="en">SQL</acronym> se pueden dividir en dos grandes grupos:</p>
<ul class="lista_verificacion">
<li>Los que se utilizan para<strong> definir las estructuras de datos</strong>, llamados comandos <strong><acronym title="Data Definition Language. " lang="en">DDL</acronym> </strong> (<span lang="en">Data Definition Language</span>).</li>
<li>Los que se utilizan para <strong>operar con los datos almacenados en las estructuras</strong>, llamados <strong><acronym title="Data Manipulation Language." lang="en">DML</acronym> </strong> (<span lang="en">Data Manipulation Language</span>).</li>
</ul>
<p>En la siguiente presentación encontrarás algunos de los comandos <acronym title="Structured Query Language." lang="en">SQL</acronym> más utilizados.</p>
<div class="elemento_centrado">
<div class="elemento_centrado"></div>
<div class="credenciales elemento_centrado"><a title="Acceder al resumen textual alternativo para " comandos="" sql""="" href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_Descripcion_Presentacion_Comandos_SQL.html">Resumen textual alternativo para "Comandos SQL" </a></div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id18">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Para saber más</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta18_47" class="block iDevice_content">
<p>En este enlace encontrarás de una manera breve pero interesante la historia de  <acronym title="Structured Query Language." lang="en">SQL</acronym></p>
<div class="enlace_centrado"><a class="html" title="Acceder a una web sobre la historia de SQL" href="http://www.htmlpoint.com/sql/sql_04.htm"> Historia del <acronym title="Structured Query Language." lang="en">SQL</acronym>.</a></div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id19">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta19_54" class="block iDevice_content">

</div>
<div class="question">
<form name="true-false-form-0b19" action="https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/recopila.php?id=6201#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b19" class="block iDevice_content">
<p><strong>Con las consultas <acronym title="Structured Query Language." lang="en">SQL</acronym> hay que especificar paso a paso cómo recuperar cada dato de la base de datos.</strong></p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b19"><input type="radio" name="option0b19" id="true0b19" onclick="$exe.getFeedback(0,2,&#39;0b19&#39;,&#39;truefalse&#39;)"> Verdadero</label> 
<label for="false0b19"><input type="radio" name="option0b19" id="false0b19" onclick="$exe.getFeedback(1,2,&#39;0b19&#39;,&#39;truefalse&#39;)"> Falso</label>
</p>
</form>
<div id="s0b19" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b19-result" class="wrong">Falso</strong></p>
<p>Basta con decirle qué datos queremos y el sistema gestor se encarga de obtenerlos.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.5.2.- Lenguaje SQL (II).</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id20">
<div class="iDevice emphasis0">
<div id="ta20_73" class="block iDevice_content">
<p><img alt="Texto en letras azules sobre fondo blanco, que reza: “SQL”." class="elemento_derecha" src="./PROG_T10_files/PROG11_CONT_R11_01_SQL.jpg" style="width: 192px; height: 120px;" title="SQL." height="120" width="192"></p>
<p>La primera fase del trabajo con cualquier base de datos comienza con sentencias <acronym title="Data Definition Language." lang="en">DDL</acronym>, puesto que antes de poder almacenar y recuperar información debemos definir las estructuras donde agrupar la información. Las estructuras básicas con las que trabaja <acronym title=" Structured Query Language." lang="en">SQL</acronym> son las tablas.</p>
<p>Como hemos visto antes, una tabla es un conjunto de celdas agrupadas en filas y columnas donde se almacenan elementos de información.</p>
<p>Antes de llevar a cabo la creación de una tabla conviene planificar: nombre de la tabla, nombre de cada columna, tipo y tamaño de los datos almacenados en cada columna, información adicional, restricciones, <abbr title="etcétera.">etc.</abbr></p>
<p>Hay que tener en cuenta también ciertas restricciones en la formación de los nombres de las tablas: longitud. Normalmente, aunque dependen del sistema gestor, suele tener una longitud máxima de 30 caracteres, no puede haber nombres de tabla duplicados, deben comenzar con un carácter alfabético, permitir caracteres alfanuméricos y el guión bajo '_', y normalmente no se distingue entre mayúsculas y minúsculas.</p>
<p>Por ejemplo para crear una tabla de departamentos podríamos hacer:</p>
<div class="codigo elemento_centrado" style="width: 36.8em;">
<div class="texto_izquierda">
<pre>CREATE TABLE departa (
</pre>
<pre>   cod_dep number(3),
</pre>
<pre>   nombre varchar2(15) not null,
</pre>
<pre>   loc varchar2(10),
</pre>
<pre>   constraint dep_pk primary key (cod_dep),
</pre>
<pre>   constraint dep_loc check 
</pre>
<pre>              (loc in ('Madrid', 'Barcelona', 'Murcia'))
</pre>
<pre>);
</pre>
</div>
</div>
<p>donde creamos la tabla con cod_dep como clave primaria. Además, se añade una restricción para comprobar que cuando se esté dando de alta un registro, lo que se escriba en el campo loc sea Madrid, Barcelona o Murcia.</p>
<p>Y una tabla de empleados, teniendo en cuenta el departamento en el que trabajen:</p>
<div class="codigo elemento_centrado" style="width: 44.5em;">
<div class="texto_izquierda">
<pre>CREATE TABLE emp (
</pre>
<pre>   cod_emp number(3),
</pre>
<pre>   nombre varchar2(10) not null,
</pre>
<pre>   oficio varchar2(11),
</pre>
<pre>   jefe number(3),
</pre>
<pre>   fecha_alta date,
</pre>
<pre>   salario number(10),
</pre>
<pre>   comision number(10),
</pre>
<pre>   cod_dep number(3),
</pre>
<pre>   constraint emp_pk primary key (cod_emp),
</pre>
<pre>   constraint emp_fk foreign key (cod_dep) references departa(cod_dep)
</pre>
<pre>              on delete cascade,
</pre>
<pre>   constraint emp_ck check (salario &gt; 0)
</pre>
<pre>);
</pre>
</div>
</div>
<p>En el caso de esta tabla, se puede ver que hay un restricción para comprobar que el salario sea mayor que 0.</p>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.6.- Establecimiento de conexiones.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id21">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Caso práctico</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta21_66" class="block iDevice_content">
<p><img alt="uan de pie hablando, gesticulando con los brazos." class="elemento_izquierda" src="./PROG_T10_files/EIN_PPAA_CASO_R08_ProfesorCuerpo_FOT.jpg" style="width: 196px; height: 132px;" title="Juan hablando." height="132" width="196"> Tanto <strong>Juan</strong> como <strong>María</strong> saben que trabajar con bases de datos relacionales en<span lang="en"> Java</span> es tremendamente sencillo, por lo que establecer una conexión desde un programa en <span lang="en">Java</span>, a una base de datos, es muy fácil.</p>
<p><strong>Juan </strong>le comenta a <strong>María</strong>:</p>
<p><span class="st">—</span>Empleando la tecnología sólo necesitamos dos simples sentencias<span lang="en"> Java</span> para conectar la aplicación a la base de datos. <strong>María</strong>, prepárate que en un periquete tengo lista la conexión con la base de datos y salimos a tomar un café.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id22">
<div class="iDevice emphasis0">
<div id="ta22_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./PROG_T10_files/PROG11_CONT_R12_archivo.jpg" alt="Archivadores de fichas." title="Archivadores de fichas." class="elemento_derecha" style="float: right;"></div>
<div class="elemento_centrado credenciales"><a class="cc-by" title="CC by" href="http://creativecommons.org/licenses/by/3.0/deed.es" target="_blank"><span class="transparente">CC by</span></a> <a title="Eirik Stavelin" href="http://www.flickr.com/photos/eiriks/3359730744/" target="_blank">Eirik Stavelin</a></div>
</div>
<p align="justify">Cuando queremos acceder a una base de datos para operar con ella, lo primero que hay que hacer es conectarse a dicha base de datos.</p>
<p align="justify">En <span lang="en">Java</span>, para establecer una conexión con una base de datos podemos utilizar el método getConnection() de la clase DriverManager. Este método recibe como parámetro la <acronym title="Uniform Resource Locator" lang="en">URL</acronym> de <acronym title="Java Database Connectivity." lang="en">JDBC</acronym> que identifica a la base de datos con la que queremos realizar la conexión.</p>
<p align="justify">La ejecución de este método devuelve un objeto Connection que representa la conexión con la base de datos.</p>
<p align="justify">Cuando se presenta con una <acronym title="Uniform Resource Locator" lang="en">URL</acronym> específica, DriverManager itera sobre la colección de <span lang="en">drivers</span> registrados hasta que uno de ellos reconoce la <acronym title="Uniform Resource Locator" lang="en">URL</acronym> especificada. Si no se encuentra ningún <span lang="en">driver</span> adecuado, se lanza una SQLException.</p>
<p align="justify">Veamos un ejemplo comentado:</p>
<div class="elemento_centrado">
<div class="elemento_centrado"><a title="Imagen ampliable." href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R12_01_codigoconec.jpg"><img alt="Código en el que se realiza una conexión a MySQL." class="imagen_ampliable" src="./PROG_T10_files/PROG11_CONT_R12_01_codigoconec_miniatura.jpg" style="width: 200px; height: 112px;" title="Establecer conexiones, código Java." height="112" width="200"></a></div>
</div>
<div class="enlace_centrado"><a class="documento" title="Descargar archivo con el código Java para establecer una conexión con MySQL. [.txt – 1 KB]" href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R12_02_codigoconex.txt"> Código Java para establecer una conexión con MySQL </a><span class="tamano">(1 KB)</span></div>
<p>Si probamos este ejemplo con <span lang="en">NetBeans</span>, o cualquier otro entorno, y no hemos instalado el conector para <span lang="en">MySQL</span>, en la consola obtendremos el mensaje: Excepción: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver.</p>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.6.1.- Instalar el conector de la base de datos.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id23">
<div class="iDevice emphasis0">
<div id="ta23_73" class="block iDevice_content">
<p>En la siguiente presentación vamos a ver cómo descargarnos el conector o <span lang="en">driver</span> que necesitamos para trabajar con <span lang="en">MySQL</span>. Como verás, tan sólo consiste en descargar un archivo, descomprimirlo y desde <span lang="en">NetBeans</span> añadir el fichero .jar que constituye el conector que necesitamos.</p>
<div class="elemento_centrado">
<div class="elemento_centrado"></div>
<div class="credenciales elemento_centrado"><a title="Acceder al resumen textual alternativo para " instalar="" driver="" mysql""="" href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_Descripcion_Presentacion_Instalar_driver_MySQL.html">Resumen textual alternativo para  "Instalar <span lang="en">driver</span> <acronym title="Java Database Connectivity." lang="en">JDBC</acronym> para <span lang="en"> MySQL</span>"</a></div>
</div>
<p> </p>
<p>Por tanto, como ya hemos comentado anteriormente, entre el programa <span lang="en">Java</span> y el Sistema Gestor de la Base de Datos (<acronym title="Sistema Gestor de Bases de Datos.">SGBD</acronym>) se intercala el conector <acronym title="Java Database Connectivity." lang="en">JDBC</acronym>. Este conector es el que implementa la funcionalidad de las clases de acceso a datos y proporciona la comunicación entre el <acronym title="Application Programming Interface." lang="en">API</acronym> <acronym title="Java Database Connectivity." lang="en">JDBC</acronym> y el <acronym title="Sistema Gestor de Bases de Datos.">SGBD</acronym>.</p>
<p>La función del conector es traducir los comandos del <acronym title="Application Programming Interface." lang="en">API</acronym> <acronym title="Java Database Connectivity." lang="en">JDBC</acronym> al protocolo nativo del <acronym title="Sistema Gestor de la Base de Datos.">SGBD</acronym>.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id24">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta24_54" class="block iDevice_content">

</div>
<div class="question">
<form name="true-false-form-0b24" action="https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/recopila.php?id=6201#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b24" class="block iDevice_content">
<p><strong>Para establecer una conexión con una base de datos se puede usar getConnection().</strong></p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b24"><input type="radio" name="option0b24" id="true0b24" onclick="$exe.getFeedback(0,2,&#39;0b24&#39;,&#39;truefalse&#39;)"> Verdadero</label> 
<label for="false0b24"><input type="radio" name="option0b24" id="false0b24" onclick="$exe.getFeedback(1,2,&#39;0b24&#39;,&#39;truefalse&#39;)"> Falso</label>
</p>
</form>
<div id="s0b24" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b24-result" class="right">Verdadero</strong></p>
<p>En efecto getConnection() se utiliza para conectarnos a una base de datos.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.6.2.- Registrar el controlador JDBC.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id25">
<div class="iDevice emphasis0">
<div id="ta25_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./PROG_T10_files/PROG11_CONT_R15_libros.jpg" alt="Libros antiguos sobre un estante." title="Libros antiguos sobre un estante." style="float: right;"></div>
<div class="elemento_centrado credenciales"><a class="cc-by" title="CC by" href="http://creativecommons.org/licenses/by/3.0/deed.es" target="_blank"><span class="transparente">CC by</span></a> <a title=" Bruno Cordioli" href="http://www.flickr.com/photos/br1dotcom/4166144897/" target="_blank"> Bruno Cordioli</a></div>
</div>
<p>Al fin y al cabo ya lo hemos visto en el ejemplo de código que poníamos antes, pero incidimos de nuevo. Registrar el controlador que queremos utilizar es tan fácil como escribir una línea de código.</p>
<p>Hay que consultar la documentación del controlador que vamos a utilizar para conocer el nombre de la clase que hay que emplear. En el caso del controlador para <span lang="en">MySQL</span> es "com.mysql.jdbc.Driver", o sea, que se trata de la clase <strong>Driver</strong> que está en el paquete com.mysql.jdbc del conector que hemos descargado, y que has observado que no es más que una librería empaquetada en un fichero .jar.</p>
<p>La línea de código necesaria en este caso, en la aplicación <span lang="en">Java</span> que estemos construyendo es:</p>
<div class="codigo elemento_centrado" style="width: 33.5em;">
<div class="texto_izquierda">
<pre>// Cargar el driver de mysql
</pre>
<pre>Class.forName("com.mysql.jdbc.Driver");
</pre>
</div>
</div>
<p>Una vez cargado el controlador, es posible hacer una conexión al <acronym title="Sistema Gestor de Bases de Datos">SGBD</acronym>.</p>
<p>Hay que asegurarse de que si no utilizáramos <span lang="en">NetBeans </span>u otro <acronym title=" Integrated development environment." lang="en">IDE</acronym>, para añadir el .jar como hemos visto, entonces el archivo .jar que contiene el controlador <acronym title="Java Database Connectivity." lang="en">JDBC</acronym> para el <acronym title="Sistema Gestor de Bases de Datos">SGBD</acronym> habría que incluirlo en el CLASSPATH que emplea nuestra máquina virtual, o bien en el directorio ext del <acronym title="Java Runtime Environment." lang="en">JRE</acronym> de nuestra instalación del <acronym title="Java Development Kit" lang="en">JDK</acronym>.</p>
<p>Hay una excepción en la que no hace falta ni hacer eso: en caso de utilizar un acceso mediante puente <acronym title="Java Database Connectivity-Open Database Connectivity." lang="en">JDBC-ODBC</acronym>, ya que ese <span lang="en">driver</span> está incorporado dentro de la distribución de <span lang="en">Java</span>, por lo que no es necesario incorporarlo explícitamente en el <a class="glosario" href="./PROG_T10_files/saved_resource">classpath<span><em>Classpath</em>Es una variable de entorno que indica a la máquina virtual de Java dónde buscar las clases definidas por el usuario y los paquetes cuando se ejecutan los programas Java.</span></a> de una aplicación <span lang="en">Java</span>. Por ejemplo, sería el caso de acceder a una base de datos <span lang="en">Microsoft Access</span>.</p>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.7.- Ejecución de consultas sobre la base de datos.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id26">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Caso práctico</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta26_66" class="block iDevice_content">
<p><img alt="Foto de Ada mirando al frente." class="elemento_izquierda" src="./PROG_T10_files/CASO_PERSONAJES_24.png" style="width: 128px; height: 192px;" title="Foto de Ada." height="192" width="128"></p>
<p><strong>Ada</strong> está echando una mano a <strong>Juan</strong> y <strong>María</strong> en la creación de consultas, para los informes que la aplicación de notaría debe aportar a los usuarios de la misma.</p>
<p>Hacer consultas es una de las facetas de la programación que más entretiene a <strong>Ada</strong>, le resulta muy ameno y fácil. Además, y dada la importancia del proyecto, cuanto antes avancen en él, mucho mejor.</p>
<p>Por suerte, los tres: <strong>Ada</strong>, <strong>María</strong> y <strong>Juan</strong> tienen experiencia en consultas <span lang="Structured Query Languege">SQL</span> y saben que, cuando se hace una consulta a una base de datos, hay que afinar y hacerla lo más eficiente posible, pues si se descuidan el sistema gestor puede tardar mucho en devolver los resultados. Además, algunas consultas pueden devolver un conjunto de registros bastante grande, que puede resultar difícil de manejar desde el programa, ya que por norma general tendremos que manejar esos datos registro a registro.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id27">
<div class="iDevice emphasis0">
<div id="ta27_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./PROG_T10_files/PROG11_CONT_R17_query.jpg" alt="Interrogante sobre la fachada de un edificio." title="Interrogante sobre la fachada de un edificio." class="elemento_derecha" style="float: right;" height="192" width="144"></div>
<div class="elemento_centrado credenciales"><a class="cc-by-nc" title="CC by-nc" href="http://creativecommons.org/licenses/by-nc/3.0/deed.es" target="_blank"><span class="transparente">CC by-nc</span></a> <a title=" brainflakes." href="http://www.flickr.com/photos/brainflakes/2757104181/" target="_blank"> brainflakes.</a></div>
</div>
<p>Para operar con una base de datos ejecutando las consultas necesarias, nuestra aplicación deberá hacer las operaciones siguientes:</p>
<ul class="lista_verificacion">
<li><strong>Cargar el conector</strong> necesario para comprender el protocolo que usa la base de datos en cuestión.</li>
<li><strong>Establecer una conexión</strong> con la base de datos.</li>
<li><strong>Enviar consultas</strong> <acronym title="Structured Query Language." lang="en">SQL</acronym> y procesar el resultado.</li>
<li><strong>Liberar los recursos</strong> al terminar.</li>
<li><strong>Gestionar los errores</strong> que se puedan producir.</li>
</ul>
<p>Podemos utilizar los siguientes tipos de sentencias:</p>
<ul class="lista_verificacion">
<li>Statement: para sentencias sencillas en <acronym title="Structured Query Language." lang="en">SQL</acronym>.</li>
<li>PreparedStatement: para consultas preparadas, como por ejemplo las que tienen parámetros.</li>
<li>CallableStatement: para ejecutar procedimientos almacenados en la base de datos.</li>
</ul>
<p>El <acronym title="Application Programming Interface." lang="en">API</acronym> <acronym title="Java Database Connectivity." lang="en">JDBC</acronym> distingue dos tipos de consultas:</p>
<ul class="lista_verificacion">
<li><strong>Consultas propiamente dichas</strong>: SELECT. Para las sentencias de consulta que obtienen datos de la base de datos, se emplea el método ResultSet executeQuery(String sql). El método de ejecución del comando <acronym title="Structured Query Language." lang="en">SQL</acronym> devuelve un objeto de tipo ResultSet que sirve para contener el resultado del comando SELECT, y que nos permitirá su procesamiento.</li>
<li><strong>Actualizaciones</strong>: INSERT, UPDATE, DELETE, sentencias <acronym title="Data Definition Language." lang="en">DDL</acronym>. Para estas sentencias se utiliza el método executeUpdate(String sql).</li>
</ul>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id28">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta28_54" class="block iDevice_content">

</div>
<div class="question">
<form name="true-false-form-0b28" action="https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/recopila.php?id=6201#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b28" class="block iDevice_content">
<p><strong> Para poder enviar consultas a la base de datos hemos tenido que conectarnos a ella previamente.</strong></p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b28"><input type="radio" name="option0b28" id="true0b28" onclick="$exe.getFeedback(0,2,&#39;0b28&#39;,&#39;truefalse&#39;)"> Verdadero</label> 
<label for="false0b28"><input type="radio" name="option0b28" id="false0b28" onclick="$exe.getFeedback(1,2,&#39;0b28&#39;,&#39;truefalse&#39;)"> Falso</label>
</p>
</form>
<div id="s0b28" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b28-result" class="right">Verdadero</strong></p>
<p>Así es, hay que cargar el <span lang="en">driver</span> y establecer la conexión.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.7.1.- Recuperación de información (I).</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id29">
<div class="iDevice emphasis0">
<div id="ta29_73" class="block iDevice_content">
<p><img alt="Libro con un interrogante en el lomo." class="elemento_izquierda" src="./PROG_T10_files/PROG11_CONT_R18_libropreg.jpg" style="width: 192px; height: 120px;" title="Librote." height="120" width="192"></p>
<p>Las consultas a la base de datos se realizan con sentencias <acronym title="Structured Query Language." lang="en">SQL</acronym> que van <strong>"embebidas"</strong> en otras sentencias especiales que son propias de <span lang="en">Java</span>. Por tanto, podemos decir que las consultas <acronym title="Structured Query Language." lang="en">SQL</acronym> las escribimos como parámetros de algunos métodos <span lang="en">Java</span> que reciben el String con el texto de la consulta <acronym title="Structured Query Language." lang="en">SQL</acronym>.</p>
<p>Las consultas devuelven un ResultSet, que es una clase <span lang="en">Java</span> parecida a una lista en la que se aloja el resultado de la consulta. Cada elemento de la lista es uno de los registros de la base de datos que cumple con los requisitos de la consulta.</p>
<p>El ResultSet no contiene todos los datos, sino que los va obteniendo de la base de datos según se van pidiendo. La razón de esto es evitar que una consulta que devuelva una cantidad muy elevada de registros, tarde mucho tiempo en obtenerse y sature la memoria del programa.</p>
<p>Con el ResultSet hay disponibles una serie de métodos que permiten movernos hacia delante y hacia atrás en las filas, y obtener la información de cada fila.</p>
<p>Por ejemplo, para obtener: nif, nombre, apellidos y <code>telefono</code> de los clientes que están almacenados en la tabla del mismo nombre, de la base de datos <em>notarbd</em> que se creó anteriormente, haríamos la siguiente consulta:</p>
<div class="codigo elemento_centrado" style="width: 34.6em;">
<div class="texto_izquierda">
<pre>// Preparamos la consulta y la ejecutamos
</pre>
<pre>Statement s = con.createStatement();
</pre>
<pre>ResultSet rs = s.executeQuery ("SELECT NIF, NOMBRE,"
</pre>
<pre>      + "APELLIDOS, TELÉFONO FROM CLIENTE");
</pre>
</div>
</div>
<p>El método next() del ResultSet hace que dicho puntero avance al siguiente registro. Si lo consigue, el método next() devuelve true. Si no lo consigue, porque no haya más registros que leer, entonces devuelve false.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id30">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Para saber más</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta30_47" class="block iDevice_content">
<p>Puedes consultar todos los métodos que soporta ResulSet, además de más información, en la documentación de <span lang="en">Oracle</span>:</p>
<div class="enlace_centrado"><a class="html" title="Acceder a la información de ResulSet en la página oficial de Oracle" href="http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSet.html" target="_blank"> ResulSet</a></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.7.1.1.- Recuperación de información (II).</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id31">
<div class="iDevice emphasis0">
<div id="ta31_73" class="block iDevice_content">
<p><img alt="Icono que representa datos almacenados en los diagramas de flujo." class="elemento_derecha" src="./PROG_T10_files/PROG11_CONT_R19_datos.jpg" style="width: 188px; height: 160px;" title="Datos almacenados." height="160" width="188"> El método executeQuery() devuelve un objeto ResultSet para poder recorrer el resultado de la consulta utilizando un <a class="glosario" href="./PROG_T10_files/saved_resource">cursor<span><em>Cursor</em>Un cursor está formado por un conjunto de registros devueltos por una instrucción SQL de tipo SELECT.</span></a>.</p>
<p>Para obtener una columna del registro utilizamos los métodos get. Hay un método get... para cada tipo básico <span lang="en">Java</span> y para las cadenas.</p>
<p>Un método interesante es wasNull() que nos informa si el último valor leído con un método get es nulo.</p>
<p>Cuando trabajamos con el ResultSet, en cada registro, los métodos getInt(), getString(), getDate(), <abbr title="etcétera.">etc.</abbr>, nos devuelve los valores de los campos de dicho registro. Podemos pasar a estos métodos un índice (que comienza en 1) para indicar qué columna de la tabla de base de datos deseamos, o bien, podemos usar un String con el nombre de la columna (tal cual está en la tabla de base de datos).</p>
<div class="elemento_centrado">
<div class="elemento_centrado"><a title="Imagen ampliable." href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R19_01_codig.jpg"><img alt="Imagen del código de una consulta SQL." class="imagen_ampliable" src="./PROG_T10_files/PROG11_CONT_R19_01_codig_miniatura.JPG" style="width: 200px; height: 108px;" title="Registros." height="108" width="200"></a></div>
</div>
<div class="enlace_centrado"><a class="documento" title="Descargar el código de la consulta e iteración en un ResultSet.  [.txt – 1KB]" href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R19_02_codig.txt"> Código para consulta e iteración en un ResultSet.</a><span class="tamano"> (1 KB)</span></div>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id32">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta32_54" class="block iDevice_content">

</div>
<div class="question">
<form name="true-false-form-0b32" action="https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/recopila.php?id=6201#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b32" class="block iDevice_content">
<p><strong>Para obtener un entero almacenado en uno de los campos de un registro, trabajando con el ResulSet emplearemos el método getInt().</strong></p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b32"><input type="radio" name="option0b32" id="true0b32" onclick="$exe.getFeedback(0,2,&#39;0b32&#39;,&#39;truefalse&#39;)"> Verdadero</label> 
<label for="false0b32"><input type="radio" name="option0b32" id="false0b32" onclick="$exe.getFeedback(1,2,&#39;0b32&#39;,&#39;truefalse&#39;)"> Falso</label>
</p>
</form>
<div id="s0b32" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b32-result" class="right">Verdadero</strong></p>
<p>Eso es. Hay un getString() para cadenas, getDate() para fechas,<abbr title="etcétera."> etc.</abbr></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.7.2.- Actualización de información.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id33">
<div class="iDevice emphasis0">
<div id="ta33_73" class="block iDevice_content">
<p><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R20_filas.jpg"><img src="./PROG_T10_files/PROG11_CONT_R20_filas_miniatura.JPG" alt="Tres registros con datos de personas de una tabla de clientes." title="Registros de una tabla." class="imagen_ampliable" style="float: right;"></a>Respecto a las consultas de actualización, executeUpdate, retornan el número de registros insertados, registros actualizados o eliminados, dependiendo del tipo de consulta que se trate.</p>
<p>Supongamos que tenemos varios registros en la tabla Cliente, de la base de datos notarbd con la que seguimos trabajando. Si quisiéramos actualizar el teléfono del tercer registro, que tiene idCLIENTE=3 y ponerle como nuevo teléfono el 968610009 tendríamos que hacer:</p>
<div class="codigo elemento_centrado" style="width: 48.35em;">
<div class="texto_izquierda">
<pre>String connectionUrl = "jdbc:mysql://localhost/notarbd?" +
</pre>
<pre>                                   "user=root&amp;password=admin";
</pre>
<pre>// Obtener la conexión
</pre>
<pre>Connection con = DriverManager.getConnection(connectionUrl);
</pre>
<pre> </pre>
<pre>// Preparamos la consulta y la ejecutamos
</pre>
<pre>Statement s = con.createStatement();
</pre>
<pre>s.executeUpdate("UPDATE CLIENTE SET teléfono='968610009' WHERE idCLIENTE=3");
</pre>
<pre>// Cerramos la conexión a la base de datos.
</pre>
<pre>con.close();
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.7.3.- Adición de información.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id34">
<div class="iDevice emphasis0">
<div id="ta34_73" class="block iDevice_content">
<p>Si queremos añadir un registro a la tabla Cliente, de la base de datos con la que estamos trabajando tendremos que utilizar la sentencia INSERT INTO de <acronym title="Structured Query Language." lang="en">SQL</acronym>. Al igual que hemos visto en el apartado anterior, utilizaremos executeUpdate() pasándole como parámetro la consulta, de inserción en este caso.</p>
<p>Así, un ejemplo sería:</p>
<div class="codigo elemento_centrado" style="width: 69.80000000000001em;">
<div class="texto_izquierda">
<pre>// Preparamos la consulta y la ejecutamos</pre>
<pre>Statement s = con.createStatement();</pre>
<pre>s.executeUpdate( "INSERT INTO CLIENTE" + </pre>
<pre>  " (idCLIENTE, NIF, NOMBRE, APELLIDOS, DIRECCIÓN, CPOSTAL, TELÉFONO, CORREOELEC)" +</pre>
<pre>  " VALUES (4, '66778998T', 'Alfredo', 'Gates Gates', 'C/ Pirata 23','20400', '891222112', 'prueba@eresmas.es' )") ;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id35">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta35_54" class="block iDevice_content">

</div>
<div class="question">
<form name="true-false-form-0b35" action="https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/recopila.php?id=6201#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b35" class="block iDevice_content">
<p><strong>Al añadir registros a una tabla de una base de datos, tenemos que pasar como parámetro al executeUpdate(), una sentencia <acronym title="Structured Query Language." lang="en">SQL</acronym> del tipo: DELETE...</strong></p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b35"><input type="radio" name="option0b35" id="true0b35" onclick="$exe.getFeedback(0,2,&#39;0b35&#39;,&#39;truefalse&#39;)"> Verdadero</label> 
<label for="false0b35"><input type="radio" name="option0b35" id="false0b35" onclick="$exe.getFeedback(1,2,&#39;0b35&#39;,&#39;truefalse&#39;)"> Falso</label>
</p>
</form>
<div id="s0b35" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b35-result" class="wrong">Falso</strong></p>
<p>Se le debe pasar una sentencia de tipo INSERT INTO.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.7.4.- Borrado de información.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id36">
<div class="iDevice emphasis0">
<div id="ta36_73" class="block iDevice_content">
<p><img alt="Goma de borrar." class="elemento_centrado" src="./PROG_T10_files/PROG11_CONT_R22_gomaborrar.jpg" style="width: 200px; height: 136px;" title="Goma." height="136" width="200"></p>
<p>Cuando nos interese eliminar registros de una tabla de una base de datos, emplearemos la sentencia <acronym title="Structured Query Language." lang="en">SQL</acronym>: DELETE. Así, por ejemplo, si queremos eliminar el registro a la tabla Cliente, de nuestra base de datos y correspondiente a la persona que tiene el NIF: 66778998T, tendremos que utilizar el código siguiente.</p>
<div class="codigo elemento_centrado" style="width: 48.9em;">
<div class="texto_izquierda">
<pre>  // Preparamos la consulta y la ejecutamos
</pre>
<pre>  Statement s = con.createStatement();
</pre>
<pre>  numReg = s.executeUpdate( "DELETE FROM CLIENTE WHERE NIF= '66778998T' " );
</pre>
<pre>    // Informamos del número de registros borrados
</pre>
<pre>  System.out.println ("Se borró " + numReg + " registro") ;
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id37">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta37_54" class="block iDevice_content">

</div>
<div class="question">
<form name="true-false-form-0b37" action="https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/recopila.php?id=6201#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b37" class="block iDevice_content">
<p><strong>Al ejecutar el borrado de un registro mediante executeUpdate(…), no podemos saber si el borrado eliminó alguna fila o no.</strong></p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b37"><input type="radio" name="option0b37" id="true0b37" onclick="$exe.getFeedback(0,2,&#39;0b37&#39;,&#39;truefalse&#39;)"> Verdadero</label> 
<label for="false0b37"><input type="radio" name="option0b37" id="false0b37" onclick="$exe.getFeedback(1,2,&#39;0b37&#39;,&#39;truefalse&#39;)"> Falso</label>
</p>
</form>
<div id="s0b37" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b37-result" class="wrong">Falso</strong></p>
<p>Efectivamente podemos saberlo porque se devuelve el número de registros borrados, como hemos visto en el código del ejemplo anterior.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.7.5.- Cierre de conexiones.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id38">
<div class="iDevice emphasis0">
<div id="ta38_73" class="block iDevice_content">
<p align="justify"><img alt="Dibujo de un candado." class="elemento_izquierda" src="./PROG_T10_files/PROG11_CONT_R23_candado.jpg" style="width: 136px; height: 192px;" title="Candado." height="192" width="136">Las conexiones a una base de datos consumen muchos recursos en el sistema gestor, y por tanto en el sistema informático en general. Por ello, conviene cerrarlas con el método close() siempre que vayan a dejar de ser utilizadas, en lugar de esperar a que el recolector de basura de <span lang="en">Java</span> (<span lang="en">garbage collector</span>) las elimine.</p>
<p align="justify">También conviene cerrar las consultas (Statement y <code>PreparedStatement</code>) y los resultados (ResultSet) para liberar los recursos.</p>
<p align="justify"> </p>
</div>
</div>
</div>
<div class="iDevice_wrapper CitasparapensarfpdIdevice em_iDevice" id="id39">
<div class="iDevice emphasis_citasparapensarfpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Citas para pensar</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta39_49" class="block iDevice_content">
<blockquote>
<p>Noble cosa es, aun para un anciano, el aprender.</p>
<p><strong><cite class="elemento_derecha">Sófocles.</cite></strong></p>
</blockquote>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id40">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Para saber más</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta40_47" class="block iDevice_content">
<p>En el siguiente enlace puedes ver cómo se realiza una gestión de la conexión con <span lang="en">Oracle</span>, desde el registro del conector hasta el cierre de la misma.</p>
<div class="enlace_centrado"><a class="html" title="Acceder a una web con información sobre la gestión de la conexión en Oracle." href="http://www.devjoker.com/contenidos/catss/132/Como-conectar-a-ORACLE-con-Java-.aspx" target="_blank"> Gestión de la conexión en <span lang="en">Oracle</span>.</a></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.7.6.- Excepciones.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id41">
<div class="iDevice emphasis0">
<div id="ta41_73" class="block iDevice_content">
<p><img alt="Ilustración inspirada en La Celestina en la que se ve a Sempronio y Pármeno capturados." class="elemento_derecha" src="./PROG_T10_files/PROG11_CONT_R24_capturados.jpg" style="width: 128px; height: 192px;" title="Capturados." height="192" width="128"> En todas las aplicaciones en general, y por tanto en las que acceden a bases de datos en particular, nos puede ocurrir con frecuencia que la aplicación no funciona, no muestra los datos de la base de datos que deseábamos, <abbr title="etcétera.">etc.</abbr></p>
<p>Es importante capturar las excepciones que puedan ocurrir para que el programa no aborte de manera abrupta. Además, es conveniente tratarlas para que nos den información sobre si el problema es que se está intentando acceder a una base de datos que no existe, o que el servicio <span lang="en">MySQL</span> no está arrancado, o que se ha intentado hacer alguna operación no permitida sobre la base de datos, como acceder con un usuario y contraseña no registrados, ...</p>
<p>Por tanto es conveniente emplear el método getMessage() de la clase SQLException para recoger y mostrar el mensaje de error que ha generado <span lang="en">MySQL</span>, lo que seguramente nos proporcionará una información más ajustada sobre lo que está fallando.</p>
<p>Cuando se produce un error se lanza una excepción del tipo java.sql.SQLException.</p>
<ul class="lista_verificacion">
<li>Es importante que <strong>las operaciones de acceso a base de datos </strong>estén <strong>dentro de un bloque </strong>try-catch que gestione las excepciones.</li>
<li>Los objetos del tipo SQLException tienen dos métodos muy útiles para obtener el código del error producido y el mensaje descriptivo del mismo, getErrorCode() y <code>getMessage()</code> respectivamente.</li>
</ul>
<p>El método getMessage()devuelve el mensaje de error asociado a la excepción que se ha producido, que aunque esté en inglés, nos ayuda a saber qué ha generado el error que causó la excepción. El método getErrorCode(), devuelve un número entero que representa el código de error asociado. Habrá que consultar en la documentación para averiguar su significado.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id42">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta42_54" class="block iDevice_content">

</div>
<div class="question">
<form name="true-false-form-0b42" action="https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/recopila.php?id=6201#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b42" class="block iDevice_content">
<p><strong>El cierre de las conexiones y la gestión de excepciones sólo hay que efectuarla con bases de datos <span lang="en">MySQL</span>.</strong></p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b42"><input type="radio" name="option0b42" id="true0b42" onclick="$exe.getFeedback(0,2,&#39;0b42&#39;,&#39;truefalse&#39;)"> Verdadero</label> 
<label for="false0b42"><input type="radio" name="option0b42" id="false0b42" onclick="$exe.getFeedback(1,2,&#39;0b42&#39;,&#39;truefalse&#39;)"> Falso</label>
</p>
</form>
<div id="s0b42" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b42-result" class="wrong">Falso</strong></p>
<p>Siempre hay que gestionarlos con cualquier base de datos.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.- Bases de datos orientadas a objetos con Java.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id78">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Caso práctico</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta78_66" class="block iDevice_content">
<p><strong><img style="float: left;" src="./PROG_T10_files/CASO_PERSONAJES_08.jpg" alt="Antonio mirando de frente sonriente con camiseta amarilla." title="Antonio mirando de frente.">Antonio</strong> esta mañana está muy contento, y todo es porque una aplicación que estaba haciendo, le ha funcionado. Es una aplicación sencilla que le ha pedido <strong>Juan</strong>, destinada a organizar la lista de clientes de un pequeño taller mecánico. La aplicación permite introducir los datos de los conductores y las conductoras que acuden al taller, recopilando sus direcciones de correo electrónico y sus teléfonos.</p>
<p>De momento la aplicación no hace nada más, de hecho, el cliente no necesita ninguna funcionalidad extra, aunque deja la puerta abierta a que en el futuro se pueda añadir más información (como por ejemplo las matriculas de los coches de cada conductor o conductora). Hoy va a enseñarle a <strong>Juan</strong> la aplicación:</p>
<p>—Hola <strong>Juan</strong>. Hoy he traído la aplicación del taller que te dije, para que me des tu opinión —dice <strong>Antonio</strong>.</p>
<p>—Muy bien —contesta <strong>Juan</strong>—, seguro que será una aplicación estupenda.</p>
<p>—Bueno, todavía me falta mucho por hacer, pero ya se puede utilizar. ¡Mira, aquí está!</p>
<p>Después de un rato, en el que <strong>Antonio</strong> le enseña cómo funciona la aplicación, <strong>Juan</strong> hace un comentario inesperado:</p>
<p>—Está muy bien la verdad, ya solamente te queda hacer los datos persistentes, usarás una base de datos orientada a objetos para ello, ¿verdad? —dice <strong>Juan</strong>.</p>
<p>—Sí, supongo que sí —contesta <strong>Antonio</strong>.</p>
<p><strong>Antonio</strong> responde que sí, pero realmente no sabe muy bien a qué se refiere con lo de base de datos orientada a objetos, por lo que se queda un poco desconcertado.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id79">
<div class="iDevice emphasis0">
<div id="ta79_69" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><img class="elemento_derecha" src="./PROG_T10_files/PROG11_CONT_R25_discoduro.jpg" alt="Disco duro color gris metálico abierto." title="Disco duro" style="float: right;"></div>
<div class="elemento_centrado credenciales"><a class="cc-by-nc-sa" title="CC by-nc-sa" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.es" target="_blank"><span class="transparente">CC by-nc-sa</span></a> <a title="Ken Fager" href="https://www.flickr.com/photos/kenfagerdotcom/6813531077/sizes/s/in/photolist-bo68pK-bo68fx-5KBK3Z-5KFZ3d-5KBJWa-5KBJUP-5KFYUJ-9SZzCU-9SZAfA-9SZyGy-9SWKPk-5KBK8F-5KBK1r-5KFYZJ-5KFZ4A-5KBJZr-5KFYPw-5KBJTD-5KFYWs-9RPRwV-9RQ6rP-9RPmCF-9RSywC-9RPMjn-9RNWKF-9RPwWg-9RQ2bz-9RS3Mu-9RQeor-9RU9So-cDRX2s-9RSX7q-9RNEx4-9RNM7V-9RSiGv-9RRgfe-9RNtXR-9RRBek-9RVjwb-9RMHNa-9RMVoz-9RPJPo-9RMd7z-9RR5r5-bmcCX5-6wJbuC-9kUnFc-2hSWvQ-9RMyKe-9RQXVS/" target="_blank">Ken Fager</a></div>
</div>
<p>En este apartado, vamos a explorar otra forma de hacer persistentes los datos. Ahora te vamos a proponer un enfoque diferente para almacenar los datos: vamos a utilizar bases de datos orientadas a objetos para hacer los datos de tu aplicación persistentes.</p>
<p>Pero para hacer esto, primero tienes que aprender qué son las bases de datos orientadas a objetos, en adelante llamadas <acronym title="Bases de Datos Orientadas a Objetos.">BDOO</acronym>, y aprender a usarlas en tu aplicación. Comprobarás que con las <acronym title="Bases de datos orientadas a objetos.">BDOO</acronym> hacer los datos persistentes es más fácil y práctico de lo que imaginabas.</p>
<p>Hoy en día, uno de los retos más interesantes del mundo de la informática, es simplificar la gestión de datos. Seguro que estarás de acuerdo en que es imprescindible guardar los datos de la aplicación, pero hay que reconocer que es una de las tareas más engorrosas, sobre todo si se trata de ir guardando los datos en archivos.</p>
<p>Las técnicas de persistencia persiguen, básicamente, un objetivo muy noble: hacer la vida más fácil al programador o a la programadora, simplificando para ello los mecanismos para guardar los datos. A continuación vamos a revisar algunas de las técnicas existentes para realizar la persistencia, valorando cómo simplifican el acceso a los datos:</p>
<ul class="lista_verificacion">
<li><strong>Almacenamiento directo en archivos.</strong> Almacenar los datos directamente en archivos es, como ya sabes, una de las técnicas de persistencia más usada, pero no es sencilla de implementar. Implementar la persistencia en archivos suele ser costoso y de difícil mantenimiento.</li>
<li><strong>Sistema gestor de bases datos (<acronym title="Sistema Gestor de Bases de Datos.">SGDB</acronym>)</strong>. Usar un sistema <acronym title="Sistema Gestor de Bases de Datos.">SGDB</acronym> es una de las soluciones más recurridas. <strong>Los datos son gestionados por el <acronym title="Sistema Gestor de Bases de Datos.">SGDB</acronym>, garantizando consistencia y seguridad en los mismos</strong>. Desde la aplicación se accede a los datos usando una <a class="glosario" href="./PROG_T10_files/saved_resource">API<span><em>API</em>Conjunto de clases, agrupadas en modo de librería, destinadas a la utilización de un determinado servicio software. Las bases de datos proporcionan un conjunto de funciones y clases para acceder a los datos almacenados. El término API significa: interfaz de programación de aplicaciones.</span></a> específica, como <acronym title="Conectividad Java a la base de datos en inglés (Java Database Connectivity).">JDBC</acronym> en el caso de bases de datos relacionales, y usando un lenguaje de consulta de datos, como <acronym title="Structured Query Language." lang="en">SQL</acronym>. Aunque los <acronym title="Sistemas Gestores de Bases de Datos.">SGDB</acronym> facilitan la gestión de datos, todavía se buscan soluciones de programación más cómodas.</li>
<li><strong>Mapeado de objetos</strong>. El mapeado de objetos simplifica bastante la utilización de las bases de datos. Se trata básicamente de técnicas que permiten almacenar objetos de un lenguaje de programación, como <span lang="en">Java</span>, directamente en la base de datos. Generalmente, necesitan de lo que denominamos <a class="glosario" href="./PROG_T10_files/saved_resource">motor de persistencia<span><em>Motor de persistencia</em>Software encargado de facilitar el almacenamiento transparente de datos en una base de datos. Las bases de datos usan representaciones de la información y tipos de datos diferentes a los usados por los lenguajes de programación, la misión del motor de persistencia es facilitar la comunicación entre la aplicación y la base de datos, escondiendo la representación de la información usada por la base de datos.</span></a>.</li>
<li><strong>Extensiones de lenguajes de programación tradicionales para facilitar el acceso a datos</strong>. Este tipo de técnicas amplían la funcionalidad de los lenguajes de programación tradicionales, como Cobol, C, <abbr title="C plus plus.">C++</abbr>, <abbr title="C Sharp.">C#</abbr> o <span lang="en">Java</span>, para hacer más sencillo el acceso a los datos. <acronym title="Structured Query Language Java." lang="en">SQLJ</acronym> o PRO*C son algunos ejemplos de extensiones de los lenguajes <span lang="en">Java</span> y C respectivamente. Algunas de estas extensiones, como <acronym title="Language-Integrated Query." lang="en">LINQ</acronym>, están pensadas para varios lenguajes de programación.</li>
</ul>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.1.- ¿Por qué surgen las bases de datos orientadas a objetos?</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id35">
<div class="iDevice emphasis0">
<div id="ta35_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R26_googleEarth.jpg" target="_blank"><img src="./PROG_T10_files/PROG11_CONT_R26_googleEarth_miniatura.jpg" alt="Foto de una pantalla de ordenador mostrando  una aplicación informática en la que se visualiza el programa Google Earth." title="Programa googleEarth." class="imagen_ampliable" height="160" width="200"></a></div>
<div class="elemento_centrado credenciales"><a class="cc-by-nc-sa" title="CC by-nc-sa" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.es" target="_blank"><span class="transparente">CC by-nc-sa</span></a> <a title="Agustín Díaz." href="http://www.flickr.com/photos/yonmacklein/22105978/" target="_blank">Agustín Díaz.</a></div>
</div>
<p>Las Bases de Datos Relacionales (<acronym title="Bases de Datos Relacionales.">BDR</acronym>) son ideales para aplicaciones tradicionales que soportan tareas administrativas, y que trabajan con datos de estructuras simples y poco cambiantes, incluso cuando la aplicación pueda estar desarrolla en un lenguaje <acronym title="Orientación a Objetos.">OO</acronym> y sea necesario un Mapeo Objeto Relacional (<acronym title="Object Relational Mapping. Mapeo objeto relacional." lang="en">ORM</acronym>)</p>
<p>Pero cuando la aplicación requiere otras necesidades, como por ejemplo, soporte multimedia, almacenar objetos muy cambiantes y complejos en estructura y relaciones, este tipo de base de datos no son las más adecuadas. Recuerda, que si queremos representar un objeto y su relaciones en una BDR esto implica que:</p>
<ul class="lista_verificacion">
<li>Los objetos deben ser descompuestos en diferentes tablas.</li>
<li>A mayor complejidad, mayor número de tablas, de manera que se requieren muchos enlaces (joins) para recuperar un objeto, lo cual disminuye dramáticamente el rendimiento.</li>
</ul>
<p>Las <strong>Bases de Datos Orientadas a Objetos</strong> (<acronym title="Bases de Datos Orientadas a Objetos.">BDOO</acronym>) o Bases de Objetos se integran directamente y sin problemas con las aplicaciones desarrolladas en lenguajes orientados a objetos, ya que <strong>soportan un modelo de objetos puro</strong> y son ideales para almacenar y recuperar datos complejos permitiendo a los usuarios su <a class="glosario" href="./PROG_T10_files/saved_resource">navegación<span><em>Navegación</em>Se refiere en el contexto de orientación a objetos, a descender por los diferentes nodos de la red o grafo de objetos.</span></a> directa (sin un mapeo entre distintas representaciones).</p>
<div class="elemento_derecha"> </div>
<p>Las Bases de Objetos aparecieron a finales de los años 80 motivadas fundamentalmente por dos razones:</p>
<ul class="lista_verificacion">
<li>Las necesidades de los lenguajes de Bases de Datos Orientadas a Objetos (<acronym title="Programación Orientados a Objetos.">POO</acronym>), como la necesidad de persistir objetos.</li>
<li>Las limitaciones de las bases de datos relacionales, como el hecho de que sólo manejan estructuras muy simples (tablas) y tienen poca riqueza semántica.</li>
</ul>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id36">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Para saber más</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta36_47" class="block iDevice_content">
<p>En este enlace de un sistema gestor de bases de datos orientado a objetos, se comentan aspectos interesantes sobre estas bases de datos.</p>
<p class="enlace_centrado"><a class="html" title="Acceder a la web con información sobre necesidad de las BDOO." href="http://www.intersystems.es/page/es/capitulo_primero.html" target="_blank">Necesidad de las BDOO.</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.2.- Características de las bases de datos orientadas a objetos.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id40">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Caso práctico</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta40_66" class="block iDevice_content">
<p><strong><img src="./PROG_T10_files/CASO_PERSONAJES_09.1.jpg" alt="Ana mirando de frente." title="Ana mirando de frente." style="float: left;">Ana</strong> se ha llevado a la empresa sus apuntes sobre bases de datos y acceso a datos del ciclo formativo, y ha empezado a repasar con <strong>Juan</strong> las características de las Bases de datos Orientadas a Objetos.</p>
<p>—¡Pero claro!, —le dice <strong>Juan</strong> a <strong>Ana</strong>— habrá que detenerse en valorar tanto las posibles ventajas como los inconvenientes de estas bases de datos, ya que tenemos que elegir el sistema de almacenamiento óptimo para esta aplicación. Ya sabes que no podemos fallar. ¡Somos los mejores! —y le sonríe.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id41">
<div class="iDevice emphasis0">
<div id="ta41_73" class="block iDevice_content">
<p>En una BDOO, los datos se almacenan como objetos. Un <strong>objeto</strong> es, al igual que en POO, una entidad que se puede identificar unívocamente y que describe tanto el <a class="glosario" href="./PROG_T10_files/saved_resource">estado<span><em>Estado</em>El estado de un objeto es el conjunto de valores que toman sus propiedades (atributos y relaciones).</span></a> como el <a class="glosario" href="./PROG_T10_files/saved_resource">comportamiento<span><em>Comportamiento</em>El comportamiento de un objeto se refiere al conjunto de operaciones que se pueden realizar sobre un objeto.</span></a> de una entidad del 'mundo real'. El estado de un objeto se describe mediante atributos y su comportamiento es definido mediante procedimientos o métodos.</p>
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./PROG_T10_files/PROG11_CONT_R27_starWars.jpg" alt="Diseño gráfico escenificando multitud de elemtos de la guerra de las galaxias." title="Star Wars" style="float: right;" height="145" width="240"></div>
<div class="elemento_centrado credenciales"><a class="cc-by" title="CC by" href="http://creativecommons.org/licenses/by/3.0/deed.es" target="_blank"><span class="transparente">CC by</span></a> <a title="Ayleen Gaspar" href="https://www.flickr.com/photos/spookyamd/9090260499/sizes/o/in/photolist-eRgXKi-bEw6Am-5xQZBY-8owSj7-5KoFLS-sprsW-eTQxbM-5EPWFe-86HY8t-e3rbqH-KLkUy-48gXLn-8yv5mW-7k1e5Z-42KDiK-eRtavs-boHQMF-6FFvP-7WjSn8-bD5sPQ-boHQZ6-4cb2c1-eRgJHr-eRgT3D-se4wk-b5uEHX-58RtUr-6w4yEG-eRgJqt-6CXJ3-54Gccs-8wyPhF-eRgNYg-6zU3YQ-eRgJ8H-8wBWKU-Mi8nY-se7PL-dVbtK9-inSps-eRgSeg-6bCFCz-eRgHVP-eRgWPR-6AtKuZ-6kzxL7-8S5KAn-eRtbF9-8wBRns-4cTZo/" target="_blank">Ayleen Gaspar</a></div>
</div>
<p>Entonces, ¿a qué equivalen las entidades, ocurrencias de entidades y relaciones del modelo relacional? Las entidades son las clases, las ocurrencias de entidad son objetos creados desde las clases, las relaciones se mantienen por medio de inclusión lógica, y no existen claves primarias, los objetos tienen un identificador.</p>
<p>La principal característica de las BDOO es que <strong>soportan un modelo de objetos puro y que el lenguaje de programación y el esquema de la base de datos utilizan las mismas definiciones de tipos</strong>.</p>
<p><strong>Otras características importantes</strong> de las BDOO son las siguientes:</p>
<ul class="lista_verificacion">
<li><strong>Soportan las características propias de la Orientación a Objetos</strong> como agregación, encapsulamiento, polimorfismo y herencia. La herencia se mantiene en la propia base de datos.</li>
<li><strong>Identificador de objeto</strong> (<acronym title="Object Identifier." lang="en">OID</acronym>). Cada objeto tiene un identificador, generado por el sistema, que es único para cada objeto, lo que supone que cada vez que se necesite modificar un objeto, habrá que recuperarlo de la base de datos, hacer los cambios y almacenarlo nuevamente. Los <span lang="en">OID</span> son independientes del contenido del objeto, esto es, si cambia su información, el objeto sigue teniendo el mismo <span lang="en">OID</span>. Dos objetos serán equivalentes si tienen la misma información pero diferentes <span lang="en">OID</span>. Podemos afirmar que dos objetos son iguales cuando los valores de sus propiedades observables son iguales. Por otro lado, dos objetos son idénticos cuando al modificar una  propiedad observable de uno de ellos, se produce una modificación en la del otro y viceversa.</li>
<li><strong>Jerarquía y extensión de tipos</strong>. Se pueden definir nuevos tipos basándose en otros tipos predefinidos, cargándolos en una jerarquía de tipos (o jerarquía de clases).</li>
<li><strong>Objetos complejos</strong>. Los objetos pueden tener una estructura de objeto de complejidad arbitraria, a fin de contener toda la información necesaria que describe el objeto.</li>
<li><strong>Acceso navegacional de datos</strong>. Cuando los datos se almacenan en una estructura de red densa y probablemente con una estructura de diferentes niveles de profundidad, el acceso a datos se hace principalmente navegando la estructura de objetos y se expresa de forma natural utilizando las construcciones nativas del lenguaje, sin necesidad de uniones o <span lang="en">joins</span> típicas en las bases de datos relacionales.</li>
<li><strong>Gestión de versiones</strong>. El mismo objeto puede estar representado por múltiples versiones. Muchas aplicaciones de bases de datos que usan orientación a objetos requieren la existencia de varias versiones del mismo objeto, ya que si estando la aplicación en funcionamiento es necesario modificar alguno de sus módulos, el diseñador deberá crear una nueva versión de cada uno de ellos para efectuar cambios.</li>
</ul>
</div>
</div>
</div>
<div class="iDevice_wrapper SeleccionmultiplefpdIdevice em_iDevice" id="id42">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<div id="actitity-42_55">
<form name="multi-select-form-42_55" action="https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/recopila.php?id=6201#" onsubmit="return false" class="activity-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion42_55" class="block question iDevice_content">
<p>
<strong>Señala las opciones correctas. Las bases de datos orientadas a objetos:</strong>
</p>

</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op42_550" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-42_58">Opción 1</a></label><input type="checkbox" id="op42_550" value="True">
</p>
<div class="iDevice_answer-content" id="answer-42_58"><a name="answer-42_58" href="./PROG_T10_files/saved_resource"></a>
<div id="taans42_58" class="block iDevice_content">
Soportan conceptos de orientación a objetos como la herencia. 

</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-42_550" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op42_551" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-42_85">Opción 2</a></label><input type="checkbox" id="op42_551" value="True">
</p>
<div class="iDevice_answer-content" id="answer-42_85"><a name="answer-42_85" href="./PROG_T10_files/saved_resource"></a>
<div id="taans42_85" class="block iDevice_content">
Permiten la manipulación navegacional.

</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-42_551" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op42_552" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-42_87">Opción 3</a></label><input type="checkbox" id="op42_552" value="False">
</p>
<div class="iDevice_answer-content" id="answer-42_87"><a name="answer-42_87" href="./PROG_T10_files/saved_resource"></a>
<div id="taans42_87" class="block iDevice_content">
Tienen el mismo tipo de problemas que las relacionales para gestionar objetos complejos.

</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-42_552" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op42_553" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-42_89">Opción 4</a></label><input type="checkbox" id="op42_553" value="True">
</p>
<div class="iDevice_answer-content" id="answer-42_89"><a name="answer-42_89" href="./PROG_T10_files/saved_resource"></a>
<div id="taans42_89" class="block iDevice_content">
Cada objeto posee un identificador de objeto.

</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-42_553" style="display:none"></div>
</div>
</div>
<div class="block iDevice_buttons feedback-button js-required">
<p>
<input type="button" name="submitSelect" class="feedbackbutton" value="Mostrar retroalimentación" onclick="$exe.showFeedback(this,4,&#39;42_55&#39;)"> 
</p>
</div>
<div id="f42_55" class="js-hidden js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>

<div id="tafeedback42_55" class="feedback iDevice_content">
Las bases de datos orientadas a objetos permiten usar conceptos de programación orientada a objetos como la herencia, permiten la manipulación navegacional y cada objeto tiene un identificador.

</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-42_58" class="right">Correcto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-42_85" class="right">Correcto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-42_87" class="wrong">Incorrecto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-42_89" class="right">Correcto</a></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id43">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Para saber más</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta43_47" class="block iDevice_content">
<p>Existen diferentes manifiestos sobre las características que debe cumplir un sistema de bases de datos orientado a objetos. En el siguiente enlace puedes consultar un poco más sobre ellos.</p>
<div class="enlace_centrado"><a class="pdf" title="Descargar información sobre los manifiestos de las bases de datos orientadas a objetos  [pdf - 174 KB]" href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/BBDD.pdf">Manifiestos sobre las bases de datos orientadas a objetos.</a> <span class="tamano"> (174 KB) </span></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.2.1.- Ventajas e inconvenientes.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id37">
<div class="iDevice emphasis0">
<div id="ta37_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><a title="Ampliar imagen." href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R28_ventajaBDOO.jpg"><img alt="Dibujo que representa con tres rectángulos una base de objetos, un servidor y una aplicacición en una columna, y de abajo arriba. Otra columna paralela muestra dibujos de una rede de objetos tanto a nivel de la plicación como de la base de datos." class="imagen_ampliable" src="./PROG_T10_files/PROG11_CONT_R28_ventajaBDOO_miniatura.jpg" style="width: 188px; height: 160px;" title="Características de las bases de objetos."></a></div>
</div>
<p>El uso de una BDOO puede ser ventajoso frente a una BDR relacional si nuestra aplicación requiere alguno de estos elementos :</p>
<ul class="lista_verificacion">
<li>Un gran número de tipos de datos diferentes.</li>
<li>Un gran número de relaciones entre los objetos.</li>
<li>Objetos con comportamientos complejos.</li>
</ul>
<p>Una de las principales ventajas de los sistemas de bases de datos orientados a objetos es la <strong>transparencia</strong>, (manipulación directa de datos utilizando un entorno de programación basado en objetos), por lo que el programador, solo se debe preocupar de los objetos de su aplicación, en lugar de cómo los debe almacenar y recuperar de un medio físico.</p>
<p><strong>Otras ventajas</strong> de un sistema de bases de datos orientado a objetos son las siguientes:</p>
<ul class="lista_verificacion">
<li><strong>Gran capacidad de modelado</strong>. El modelado de datos orientado a objetos permite modelar el 'mundo real' de una manera óptima gracias al encapsulamiento y la herencia.</li>
<li><strong>Flexibilidad</strong>. Permiten una estructura cambiante con solo añadir subclases.</li>
<li><strong>Soporte para el manejo de objetos complejos</strong>. Manipula de forma rápida y ágil objetos complejos, ya que la estructura de la base de datos está dada por referencias (apuntadores lógicos) entre objetos.</li>
<li><strong>Alta velocidad de procesamiento</strong>. Como el resultado de las consultas son objetos, no hay que reensamblar los objetos cada vez que se accede a la base de objetos</li>
<li><strong>Extensibilidad</strong>. Se pueden construir nuevos tipos de datos a partir de los ya existentes, agrupar propiedades comunes de diversas clases e incluirlas en una superclase, lo que reduce la redundancia.</li>
<li><strong>Mejora los costes de desarroll</strong>o, ya que es posible la reutilización de código, una de las características de los lenguajes de programación orientados a objetos.</li>
<li><strong>Facilitar el control de acceso y concurrencia</strong>, puesto que se puede bloquear a ciertos objetos, incluso en una jerarquía completa de objetos.</li>
<li>Funcionan de forma <strong>eficiente en entornos cliente/servidor y arquitecturas distribuidas.</strong></li>
</ul>
<p>Pero aunque los sistemas de bases de datos orientados a objetos pueden proporcionar soluciones apropiadas para muchos tipos de aplicaciones avanzadas de bases de datos, también tienen sus <strong>desventajas</strong>. Éstas son las siguientes:</p>
<ul class="lista_verificacion">
<li><strong>Carencia de un modelo de datos universal</strong>. No hay ningún modelo de datos aceptado universalmente, y la mayor parte de los modelos carecen de una base teórica.</li>
<li><strong>Falta de estándares</strong>. Existe una carencia de estándares general para los sistemas de BDOO.</li>
<li><strong>Complejidad</strong>. La estructura de una BDOO es más compleja y difícil de entender que la de una base de datos relacional.</li>
<li><strong>Competencia de otros modelos</strong>. Las bases de datos relacionales y objeto-relacionales están muy asentadas y extendidas, siendo un duro competidor.</li>
<li><strong>Difícil optimización de consultas</strong>. La optimización de consultas requiere una compresión de la implementación de los objetos, para poder acceder a la base de datos de manera eficiente. Sin embargo, esto compromete el concepto de encapsulación.</li>
</ul>
</div>
</div>
</div>
<div class="iDevice_wrapper CitasparapensarfpdIdevice em_iDevice" id="id38">
<div class="iDevice emphasis_citasparapensarfpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Citas para pensar</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta38_49" class="block iDevice_content">
<blockquote>
	"Cada día sabemos más y entendemos menos".<cite class="elemento_derecha"><span lang="en">Albert Einstein </span></cite>
</blockquote>

</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id39">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta39_54" class="block iDevice_content">
<strong>Señala si la siguiente afirmación es verdadera o falsa.</strong>

</div>
<div class="question">
<form name="true-false-form-0b39" action="https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/recopila.php?id=6201#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b39" class="block iDevice_content">
<strong>En una BDOO el resultado de una consulta son objetos, por lo que no es necesario reensamblar los objetos cada vez que se accede a la base de datos.</strong>

</div>
<p class="iDevice_answer js-required">
<label for="true0b39"><input type="radio" name="option0b39" id="true0b39" onclick="$exe.getFeedback(0,2,&#39;0b39&#39;,&#39;truefalse&#39;)"> Verdadero</label> 
<label for="false0b39"><input type="radio" name="option0b39" id="false0b39" onclick="$exe.getFeedback(1,2,&#39;0b39&#39;,&#39;truefalse&#39;)"> Falso</label>
</p>
</form>
<div id="s0b39" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b39-result" class="right">Verdadero</strong></p>
Es verdadero, precisamente ésta es una de las ventajas de estos sistemas de almacenamiento.

</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.3.- Gestores de bases de datos orientadas a objetos.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id49">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Caso práctico</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta49_66" class="block iDevice_content">
<p><img style="float: left;" src="./PROG_T10_files/CASO_PERSONAJES_04.jpg" alt="Foto de Juan mirando al frente." title="Foto de Juan mirando al frente." height="134" width="200">Esta mañana, <strong>Juan</strong> ha preparado una serie de sistemas de bases de objetos diferentes, para instalarlos e ir probando algunas de sus características. La empresa tiene el encargo de hacer una pequeña aplicación que sirva para gestionar las ponencias de un congreso que se va a realizar próximamente, y podría ser una buena opción de utilizar una base de datos orientada a objetos como sistema de almacenamiento de la información.</p>
<p>Juan le pregunta a <strong>Ana</strong> —¿Sabes qué al contrario de las bases de datos relacionales, los gestores de bases de datos orientados a objetos pueden llegar a ser muy diferentes entre sí?</p>
<p>A lo que <strong>Ana</strong> responde —Sí, en clase estuvimos trabajando con diferentes sistemas, precisamente para dar fe de ello, y..., quiero recordar que había una que tenía el nombre de un pintor francés. ¿<span lang="fr">Matisse</span>?</p>
<p>—Efectivamente —dice <strong>Juan</strong>—, pero hoy he pensado en ver la base de objetos <strong>db4o</strong>, que es la que actualmente utiliza el sistemas de trenes español <acronym title="Alta Velocidad Española.">AVE</acronym>. ¿Lo sabías?</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id50">
<div class="iDevice emphasis0">
<div id="ta50_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><a title="Ampliar imagen." href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R29_SGBDOO.jpg"><img alt="Dibujo que muestra la palabra SGBDOO, y debajo Tecnología de Bases de Datos + Tecnología de Objetos, éstas últimas sobre una elipse gris. Las palbras son de diferentes colores: rojo, verde y violeta." class="imagen_ampliable" src="./PROG_T10_files/PROG11_CONT_R29_SGBDOO_miniatura.jpg" style="width: 172px; height: 160px;" title="Gestor de Objetos."></a></div>
</div>
<p>Un <strong>Sistema Gestor de Bases de Datos Orientada a Objetos</strong> (<acronym title="Sistema Gestor de Bases de Datos Orientada a Objetos.">SGBDOO</acronym>) y en inglés <acronym title="Object Databas Management System." lang="en">ODBMS</acronym>, <span lang="en">Object Database Management System</span>) es un software específico, dedicado a servir de <a class="glosario" href="./PROG_T10_files/saved_resource">interfaz<span><em>Interfaz</em>Colección de métodos abstractos y propiedades en las que se especifica qué se debe hacer pero no su implementación. Serán las clases que implementen estas interfaces las que describan la lógica del comportamiento de los métodos.</span></a> entre la base de objetos, el usuario y las aplicaciones que la utilizan. Un SGBDOO incorpora el paradigma de Orientación a Objetos y permite el almacenamiento de objetos en soporte secundario:</p>
<ul class="lista_verificacion">
<li>Por ser <acronym title="Sistema Gestor de Bases de Datos.">SGBD</acronym> debe incluir mecanismos para optimizar el acceso, gestionar el control de concurrencia, la seguridad y la gestión de usuarios, así como facilidar la consulta y recuperación ante fallos.</li>
<li>Por ser OO incorpora características de identidad, encapsulación, herencia, polimorfismo y control de tipos.</li>
</ul>
<p>Cuando aparecieron las bases de datos orientadas a objetos, un grupo formado por desarrolladores y usuarios de bases de objetos, denominado <acronym title="Object-Oriented Database Management Group" lang="en">ODMG</acronym> (<span lang="en">Object-Oriented Database Management Group</span>), propuso un estándar que se conoce como estándar <strong><span lang="en">ODMG</span>-93</strong> y que se ha ido revisando con el tiempo, pero que en realidad<strong> no ha tenido mucho éxito</strong>, aunque es un punto de partida.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper DebesconocerfpdIdevice em_iDevice" id="id51">
<div class="iDevice emphasis_debesconocerfpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Debes conocer</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta51_48" class="block iDevice_content">
<p>En el Anexo de la unidad puedes observar un resumen de las características del estándar <span lang="en">ODMG</span>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id52">
<div class="iDevice emphasis0">
<div id="ta52_73" class="block iDevice_content">
<p>¿Qué estrategias o enfoques se siguen para el desarrollo de SGBDOO? Básicamente, las siguientes:</p>
<ul class="lista_verificacion">
<li>Ampliar un lenguaje de programación OO existente con capacidades de <acronym title="Base de Datos.">BD</acronym> (Ejemplo: <span lang="en">GemStone</span>).</li>
<li>Proporcionar bibliotecas de clases con las capacidades tradicionales de las bases de datos, como persistencia, transacciones, concurrencia, etc., (Ejemplo: <span lang="en">ObjectStore</span> y <span lang="en">Versant</span>).</li>
<li>Ampliar un lenguaje de BD con capacidades OO, caso de <span lang="en">SQL</span> 2003 y <span lang="en">Object SQL</span> (<acronym title="Object Query Language." lang="en">OQL</acronym>, propuesto por <span lang="en">ODMG</span>).</li>
</ul>
<p>Tal y como estarás pensando, la carencia de un estándar real hace difícil el soporte para la <a class="glosario" href="./PROG_T10_files/saved_resource">portabilidad<span><em>Portabilidad</em>Capacidad de que una aplicación diseñada para que acceda a una determinada base de datos de objetos pueda acceder a otro paquete SGBDOO. Para ello, ambos paquetes deben soportar un mismo estándar.</span></a> de aplicaciones y su <a class="glosario" href="./PROG_T10_files/saved_resource">interoperabilidad<span><em>Interoperabilidad</em>Posibilidad de que una aplicación pueda acceder a datos almacenados en diferentes SGBOO e incluso en diferentes sistemas de bases de datos</span></a>, y es en parte por ello, que a diferencia de las bases de datos relacionales donde hay muchos productos donde elegir, la variedad de sistemas de bases de datos orientadas a objetos es mucho menor. En la actualidad hay diferentes productos de este tipo, tanto con licencia libre como propietaria.</p>
<p>A continuación te indicamos algunos <strong>ejemplos de SGBOO</strong>:</p>
<ul class="lista_verificacion">
<li><strong>db4o</strong> de <span lang="en">Versant</span>. Es una BDOO <span lang="en">Open Source</span> para <span lang="en">Java</span> y .NET. Se distribuye bajo licencia <acronym title="General Public License.">GPL</acronym>.</li>
<li><strong>Matisse</strong>. Es un SGBOO basado en la especificación ODMG, proporciona lenguajes para definición y manipulación de objetos, así como interfaces de programación para C, C++, <span lang="fr">Eiffel</span> y <span lang="en">Java</span>.</li>
<li><strong>ObjectDB</strong>. Es una BDOO que ofrece soporte para <span lang="en">Java</span>, C++, y Python entre otros lenguajes. No es un producto libre, aunque ofrecen versiones de prueba durante un periodo determinado.</li>
<li><strong>EyeDB</strong>. Es un SGBOO basado en la especificación <span lang="en">ODMG</span>, proporciona lenguajes para definición y manipulación de objetos, e interfaces de programación para C++ y <span lang="en">Java</span>. Se distribuye bajo licencia <acronym title="GNU is Not Unix.">GNU</acronym> y es <span lang="en">software</span> libre.</li>
<li><strong>Neodatis</strong>, <strong><span lang="en">ObjectStore</span></strong> y <strong><span lang="en">GemStone</span></strong> son otros SGBDOO.</li>
</ul>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.3.1.- Objetos simples y objetos estructurados.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id44">
<div class="iDevice emphasis0">
<div id="ta44_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><a title="Ampliar imagen." href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R30_objetoSimpleEstructurado.jpg"><img alt="Dibujo de dos rectángulos representando uno a un objeto simple (clase empleado) y otro, a un objeto estructurado (clase oficina conteniendo un objeto jefe de tipo empleado)." class="imagen_ampliable" src="./PROG_T10_files/PROG11_CONT_R30_objetoSimpleEstructurado_miniatura.jpg" style="width: 200px; height: 120px;" title="Objeto simple y estructurado." height="120" width="200"></a></div>
</div>
<p>En las BDOO los objetos se encuentran interrelacionados por referencias entre ellos de manera similar a como los objetos se referencian entre sí en memoria.</p>
<p>Un <strong>objeto de tipo simple</strong> u objeto simple es aquel que no contiene a otros objetos y por tanto posee una estructura de un solo nivel de profundidad en este sentido.</p>
<p>Un<strong> objeto de tipo estructurad</strong>o u objeto estructurado incluye entre sus componentes a otros objetos y se define aplicando los constructores de tipos disponibles por el SGBDOO recursivamente a varios niveles de profundidad.</p>
<p>Entre un objeto y sus componentes de cada nivel, existen dos tipos de referencia:</p>
<ul class="lista_verificacion">
<li><strong>Referencia de propiedad</strong>. Se aplica cuando los componentes de un objeto se encapsulan dentro del propio objeto y se consideran, por tanto, parte de ese objeto. <strong>Relación es-parte-de</strong>. No necesitan tener identificadores de objeto y sólo los métodos de ese objeto pueden acceder a ellos. Desaparecen si el propio objeto se elimina.</li>
<li><strong>Referencia de asociación</strong>. Se aplica cuando entre los componentes del objeto estructurado existen objetos independientes, pero es posible hacer referencia a ellos desde el objeto estructurado. <strong>Relación está-asociado-con</strong>. Cuando un objeto estructurado tiene que acceder a sus componentes referenciados, lo hace invocando los métodos apropiados de los componentes, ya que no están encapsulados dentro del objeto estructurado.</li>
</ul>
<p>Por ejemplo, si observas la figura superior derecha, en un objeto tipo Oficina los componentes codigo y <code>dirección</code> son_parte_del objeto, mientras que el componente jefe, es un objeto independiente que está_asociado_con el objeto oficina.</p>
<p>Entonces, ¿las referencias de asociación son como las relaciones del modelo relacional? Así es:</p>
<ul class="lista_verificacion">
<li>La referencia de asociación representa las relaciones o interrelaciones entre objetos independientes, dando la posibilidad de que los objetos puedan detectarse mutuamente en una o dos direcciones, (lo que en el modelo relacional representamos mediante claves ajenas o foráneas que provienen de relaciones uno a uno, uno a muchos y muchos a muchos).</li>
<li>Una relación uno a muchos se representa mediante un objeto tipo colección (List, <code>Set</code>, etc.). En una BDOO la colección se maneja como cualquier otro objeto (aunque potencialmente profundo) y normalmente se podrá recuperar y almacenar el objeto padre junto con la colección asociada y su contenido en una sola llamada.</li>
</ul>
<p>Además, un objeto miembro referenciado puede ser referenciado por más de un objeto estructurado y, no se elimina automáticamente cuando se elimina el objeto del nivel superior.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper DebesconocerfpdIdevice em_iDevice" id="id45">
<div class="iDevice emphasis_debesconocerfpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Debes conocer</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta45_48" class="block iDevice_content">
<p>Aunque ya conocemos las colecciones en Java, en este interesante enlace puedes repasar y aprender más sobre ellas:</p>
<p style="text-align: center;"><a class="html" title="Guía de colecciones en Java" href="http://www.luaces-novo.es/guia-de-colecciones-en-java/" target="_blank">Guía de colecciones en Java</a>.</p>
<div class="elemento_centrado">
<div class="elemento_centrado"> </div>
<div class="credenciales elemento_centrado"> </div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id46">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta46_54" class="block iDevice_content">
<strong>Señala si la siguiente afirmación es verdadera o falsa.</strong> 

</div>
<div class="question">
<form name="true-false-form-0b46" action="https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/recopila.php?id=6201#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b46" class="block iDevice_content">
<strong>Un objeto estructurado es aquel que contiene a otros objetos.</strong> 

</div>
<p class="iDevice_answer js-required">
<label for="true0b46"><input type="radio" name="option0b46" id="true0b46" onclick="$exe.getFeedback(0,2,&#39;0b46&#39;,&#39;truefalse&#39;)"> Verdadero</label> 
<label for="false0b46"><input type="radio" name="option0b46" id="false0b46" onclick="$exe.getFeedback(1,2,&#39;0b46&#39;,&#39;truefalse&#39;)"> Falso</label>
</p>
</form>
<div id="s0b46" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b46-result" class="right">Verdadero</strong></p>
Es verdadero, efectivamente es estructurado cuando contiene a otro u otros objetos y en diferentes niveles de profundidad.

</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.3.2.- Instalación del gestor de objetos db4o.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id47">
<div class="iDevice emphasis0">
<div id="ta47_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./PROG_T10_files/PROG11_CONT_R31_zona_informatica.jpg" alt="Foto que muestra en primer plano un portátil y un notebook abierto y una pantalla TFT sobre un escritorio." title="Zona Informática." class="cc-by-nc" style="float: right;"></div>
<div class="elemento_centrado credenciales"><a class="cc-by-nc-sa" title="CC by-nc-sa" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.es" target="_blank"><span class="transparente">CC by-nc-sa</span></a> <a title="Luis Pérez." href="http://www.flickr.com/photos/luipermom/2934628860/" target="_blank">Luis Pérez.</a></div>
</div>
<p>En los siguientes apartados trabajaremos con db4objects de Versant o simplemente <strong>db4o</strong>, una <strong>base de datos orientada a objetos nativa de Java</strong>, disponible para Java y .Net, y utilizada en la actualidad por diversas compañías para el desarrollo de aplicaciones de dispositivos móviles, dispositivos médicos y biotecnología, aplicaciones <span lang="en">web</span>, <span lang="en">software</span> enlatado y aplicaciones en tiempo real.</p>
<p> </p>
<p>Tres<strong> características importantes de db4o</strong> son las siguientes:</p>
<ul class="lista_verificacion">
<li>El modelo de clases es el propio esquema de la base de datos, por lo que se elimina el proceso de diseño, implementación y mantenimiento de la base de datos.</li>
<li>Está diseñada bajo la estrategia de proporcionar bibliotecas de clases con las capacidades tradicionales de las bases de datos, y con el objetivo de cero administración.</li>
<li>Puede trabajar como <strong>base de datos embebida</strong>, lo que significa que se puede distribuir con la aplicación, y solo la aplicación que lanza la base de datos embebida puede acceder a ella, siendo ésta invisible para el usuario final.</li>
</ul>
<p>Una de las ventajas de db4o es que es un simple fichero .jar distribuible con cualquier aplicación sin necesidad de tener que instalar nada. Tampoco necesita <span lang="en">drivers</span> de tipo <acronym title=" Java Database Connectivity." lang="en">JDBC</acronym> o similar.</p>
<p>La <strong>instalación</strong> de db4o consistirá en:</p>
<ul class="lista_verificacion">
<li>Instalar el motor de base de datos, que son las clases necesarias para hacer que funcione la <acronym title="Application Programming Interface. Interfaz de programación de aplicaciones." lang="en">API</acronym> en toda su extensión.</li>
<li>Instalar alguna aplicación para visualizar los datos con los que se está trabajando. Esto último es necesario, pues en otro caso se trabajaría a ciegas con los datos.</li>
</ul>
<p>En el siguiente recurso didáctico encontrarás un tutorial con los pasos a seguir para la descarga del software db4o y realizar su instalación e integración con el <acronym title="Integrated Development Environment. Entorno integrado de desarrollo." lang="en">IDE</acronym> <span lang="en">NetBeans</span>.</p>
<div class="elemento_centrado">
<div class="elemento_centrado"></div>
<div class="credenciales elemento_centrado"><a title="Resumen textual alternativo para " descarga="" e="" instalación="" de="" la="" base="" objetos="" db4o"."="" href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_Descripcion_Presentacion_DesInsdb40.html">Resumen textual alternativo</a></div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id48">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Para saber más</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta48_47" class="block iDevice_content">
<p>En el siguiente enlace, en inglés, encontrarás un extenso y completo tutorial sobre db4o.</p>
<p class="enlace_centrado"><a class="pdf" title="Acceder al tutorial oficial de Db4o." href="http://www.odbms.org/wp-content/uploads/2013/11/db4o-7.10-tutorial-net.pdf">Tutorial oficial de <strong>db4o</strong>.</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.4.- El API de la base de objetos.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id65">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Caso práctico</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta65_66" class="block iDevice_content">
<p><strong><img src="./PROG_T10_files/EIN_PPAA_CASO_R06_AnaCuerpo_FOT.jpg" alt="Foto de Ana de pié en diagonal, mirando al frente y con manos cogidas." title="Foto de Ana en diagonal" style="float: left;">Ana</strong> no puede negar su entusiasmo con el hecho de participar en el desarrollo del nuevo proyecto. Cuando estudió el ciclo formativo, nunca pensó que llegaría a trabajar tan de cerca con las bases de datos avanzadas. Ha pasado en el descanso a ver a su amigo <strong>Antonio</strong> y ponerlo al día de los avances que va realizando junto a <strong>Juan</strong>. Hoy le espera un ardua sesión de trabajo, familiarizarse con el <span lang="en">API</span> de la base de objetos db4o.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id66">
<div class="iDevice emphasis0">
<div id="ta66_73" class="block iDevice_content">
<p><img title="Consultas db4o." class="elemento_derecha" style="width: 200px; height: 140px;" alt="Dibujo formado por un rectángulo gris claro con las palabras db4o, QBE, Nativas y SODA en color rojo, morado, verde y azul respectivamente." src="./PROG_T10_files/PROG11_CONT_R33_consultasDb4o.jpg" height="140" width="200"></p>
<p>Todos los SGBDOO, independientemente de su estrategia de diseño, proporcionan un <span lang="en">API</span> (Interfaz de Programación de Aplicaciones), más o menos extenso, disponible para ciertos lenguajes OO. En el caso de db4o, el <span lang="en">API</span> está disponible para <span lang="en">Java</span> y .Net.</p>
<p>Los principales paquetes del <span lang="en">API</span> de db4o son los siguientes:</p>
<ul class="lista_verificacion">
<li>com.db4o. Paquete principal (<span lang="en">core</span>) de la Base de Objetos. Las interfaces y clases más importantes que incluye son:
<ul>
<li>ObjectContainer. Es la interfaz que permite realizar las principales tareas con la base de objetos. Un ObjectContainer puede representar <strong>una base de datos independiente</strong> (<span lang="en">stand-alone</span>) o una <strong>conexión a un servidor</strong> (en línea cliente-servidor). Esta interfaz proporciona métodos para:
<ul>
<li>almacenar: store(),</li>
<li>consultar: queryByExample() y</li>
<li>eliminar objetos de la base de datos: delete(),</li>
<li>así como cerrar la conexión con dicha base de datos: close().</li>
<li>También permite confirmar transacciones: commit y</li>
<li>deshacer transacciones: rollback.</li>
</ul>
</li>
<li>EmbeddedObjectContainer. Es una interfaz que extiende a ObjectContainer y representa un ObjectContainer local atacando a la base de datos.</li>
<li>Db4oEmbedded. Es una clase que proporciona métodos estáticos para conectar con la base de datos en modo embebido.</li>
<li>ObjectServer. Es la interfaz que permite trabajar con una base de datos db4o en modo cliente-servidor.</li>
<li>ObjectSet. Es una interfaz que representa el conjunto de objetos devueltos por una consulta.</li>
</ul>
</li>
<li>com.db4o.query. Paquete con funcionalidades de consulta. Proporciona interfaces que permiten establecer las condiciones y criterios de un consulta y una clase para realizar consultas mediante <span lang="en">Native Query</span> (Consultas nativas).</li>
<li>com.db4o.config. Paquete con funcionalidades de configuración. Contiene interfaces y clases que nos permiten configurar y/o personalizar la base de objetos según necesidades. La configuración de la base de objetos se hace por norma general antes de abrir la sesión en la misma.
<ul>
<li>EmbeddedConfiguration. Es la interface de configuración para el uso en modo embebido.</li>
</ul>
</li>
</ul>
<p>Siempre que trabajemos con bases de objetos db4o utilizaremos el interface ObjectContainer, puesto que es quien representará a la base de objetos, sea embebida o no.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper DestacadofpdIdevice" id="id67">
<div class="iDevice emphasis0">
<div class="iDevice_destacadofpd">
<div id="ta67_70" class="block iDevice_content">
La documentación del <span lang="en">API</span> viene en formato JavaDoc y la puedes encontrar en el directorio /doc/api del fichero .zip descargado y descomprimido.

</div>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id68">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta68_54" class="block iDevice_content">
<strong>Señala si la siguiente afirmación es verdadera o falsa.</strong> 

</div>
<div class="question">
<form name="true-false-form-0b68" action="https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/recopila.php?id=6201#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b68" class="block iDevice_content">
<strong>Un ObjectContainer es un interfaz que proporciona, entre otros, los métodos store(), <code>queryByExample()</code>, close() y <code>delete()</code>.</strong>

</div>
<p class="iDevice_answer js-required">
<label for="true0b68"><input type="radio" name="option0b68" id="true0b68" onclick="$exe.getFeedback(0,2,&#39;0b68&#39;,&#39;truefalse&#39;)"> Verdadero</label> 
<label for="false0b68"><input type="radio" name="option0b68" id="false0b68" onclick="$exe.getFeedback(1,2,&#39;0b68&#39;,&#39;truefalse&#39;)"> Falso</label>
</p>
</form>
<div id="s0b68" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b68-result" class="right">Verdadero</strong></p>
Es verdadero, es el interfaz que permite realizar las principales tareas con la base de datos. 

</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.4.1.- Apertura y cierre de conexiones.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id53">
<div class="iDevice emphasis0">
<div id="ta53_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><a title="Ampliar imagen." href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R34_conexionDb4o.jpg"><img title="Conexión a base de objetos." class="imagen_ampliable" style="width: 200px; height: 60px;" alt="Dibujo que muestra un cilindro violeta, rotulado &#39;base de objetos&#39;), y un rectángulo naranja,  rotulado &#39;programa&#39;, y en medio una flecha con doble punta con las palabras &#39;Conexión/Desconexión&#39; ." src="./PROG_T10_files/PROG11_CONT_R34_conexionDb4o_miniatura.jpg" height="60" width="200"></a></div>
</div>
<p>En general, la conexión de una aplicación <span lang="en">Java</span> con una base de objetos se podrá realizar vía:</p>
<ul class="lista_verificacion">
<li><acronym title="Java Database Connectivity." lang="en">JDBC</acronym>.</li>
<li>El <span lang="en">API</span> proporcionado por el propio gestor de objetos.</li>
</ul>
<p>En el caso de <strong>db4o</strong>, el paquete com.db4o proporciona las clases e interfaces que permiten abrir conexiones a una base de objetos db4o, así como el cierre de la misma. Estas son:</p>
<ul class="lista_verificacion">
<li><strong>Abrir conexión</strong>. Podemos utilizar las siguientes clases:
<ul>
<li>Db4oEmbedded. Es una clase que hereda de java.lang.Object y proporciona métodos estáticos como openFile() para abrir una instancia de la base de datos en <strong>modo embebido</strong>. En modo embebido tiene la limitación de que sólo se puede utilizar en la base de datos una conexión.</li>
<li>ObjectServer. Es una interfaz que permite trabajar con una base de datos db4o en <strong>modo cliente-servidor</strong>. Una vez abierta la base de datos como servidor mediante Db4o.openServer(), el método openClient() de la interfaz ObjectServer permitirá <strong>abrir conexiones cliente directamente en memoria o bien mediante <acronym title="Transmission Control Protocol/Internet Protocol." lang="en">TCP/IP</acronym></strong>.</li>
</ul>
</li>
<li><strong>Cerrar conexión</strong>. Para ello utilizaremos el método close() de la interfaz ObjectContainer.</li>
</ul>
<p>El <strong>esquema de trabajo para operar con la base de objetos</strong> será el siguiente:</p>
<ul class="lista_verificacion">
<li>Declarar un ObjectContainer.</li>
<li>Abrir una conexión a la base de objetos (openFile()). Si al abrir la BDOO esta no existe, se creará.</li>
<li>Realizar operaciones con la base de objetos como consultas, borrados y modificaciones (en un bloque try{ } catch (){ } ).</li>
<li>Cierre o desconexión de la base de objetos (close()).</li>
</ul>
<p>En el siguiente recurso didáctico tienes un ejemplo de apertura, creación y cierre a una base de objetos en modo embebido. En la BDOO creada se almacenan 4 objetos mediante el método store().</p>
<div class="elemento_centrado">
<div class="elemento_centrado"></div>
<div class="credenciales elemento_centrado"><a title="Resumen textual alternativo para " ejemplo="" de="" creación="" una="" base="" objetos="" db4o"."="" href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_Descripcion_Presentacion_Creacion_base_objetos.html">Resumen textual alternativo</a></div>
</div>
<p> </p>
<div class="enlace_centrado"><a class="paquete" title="Descargar el proyecto Java ejemplo de creación de la base de objetos.  [zip - 17 KB]" href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R36_CrearBBDDOO_Congreso.zip">Código del ejemplo de creación de una base de objetos db4o.</a> <span class="tamano"> (17 KB) </span></div>
</div>
</div>
</div>
<div class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id54">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<form name="multi-choice-form-54_60" action="https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/recopila.php?id=6201#" onsubmit="return false" class="activity-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion54_60" class="block question iDevice_content">
<p><strong>Señala la opción correcta. Para cerrar una conexión a una base de datos db4o se utiliza el método:</strong></p>
</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i54_63" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-54_63">Opción 1</a></label><input type="radio" name="option54_60" id="i54_63" onclick="$exe.getFeedback(0,4,&#39;54_60&#39;,&#39;multi&#39;)">
</p>
<div class="iDevice_answer-content" id="answer-54_63"><a name="answer-54_63" href="./PROG_T10_files/saved_resource"></a>
<div id="taans54_63" class="block iDevice_content">
<p>closedb().</p>
</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i54_108" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-54_108">Opción 2</a></label><input type="radio" name="option54_60" id="i54_108" onclick="$exe.getFeedback(1,4,&#39;54_60&#39;,&#39;multi&#39;)">
</p>
<div class="iDevice_answer-content" id="answer-54_108"><a name="answer-54_108" href="./PROG_T10_files/saved_resource"></a>
<div id="taans54_108" class="block iDevice_content">
<p>close() de la clase Db4oEmbedded.</p>
</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i54_111" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-54_111">Opción 3</a></label><input type="radio" name="option54_60" id="i54_111" onclick="$exe.getFeedback(2,4,&#39;54_60&#39;,&#39;multi&#39;)">
</p>
<div class="iDevice_answer-content" id="answer-54_111"><a name="answer-54_111" href="./PROG_T10_files/saved_resource"></a>
<div id="taans54_111" class="block iDevice_content">
<p>disconnect() de la interfaz ObjectContainer.</p>
</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i54_114" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-54_114">Opción 4</a></label><input type="radio" name="option54_60" id="i54_114" onclick="$exe.getFeedback(3,4,&#39;54_60&#39;,&#39;multi&#39;)">
</p>
<div class="iDevice_answer-content" id="answer-54_114"><a name="answer-54_114" href="./PROG_T10_files/saved_resource"></a>
<div id="taans54_114" class="block iDevice_content">
<p>close() de la interfaz ObjectContainer.</p>
</div>
</div>
</div>
</div>
<div class="iDevice_feedbacks js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<div id="sa0b54_60" class="feedback js-hidden"><a name="sa0b54_60" href="./PROG_T10_files/saved_resource"></a>
<div id="taf54_63" class=" iDevice_content">
<p>No es correcto, prueba de nuevo.</p>
</div>
</div>
<div id="sa1b54_60" class="feedback js-hidden"><a name="sa1b54_60" href="./PROG_T10_files/saved_resource"></a>
<div id="taf54_108" class=" iDevice_content">
<p>No es la respuesta correcta, deberías haber leído mejor.</p>
</div>
</div>
<div id="sa2b54_60" class="feedback js-hidden"><a name="sa2b54_60" href="./PROG_T10_files/saved_resource"></a>
<div id="taf54_111" class=" iDevice_content">
<p>No, ese método no existe.</p>
</div>
</div>
<div id="sa3b54_60" class="feedback js-hidden"><a name="sa3b54_60" href="./PROG_T10_files/saved_resource"></a>
<div id="taf54_114" class=" iDevice_content">
<p>Muy bien, vamos por buen camino.</p>
</div>
</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-54_63">Incorrecto</a> (<a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#sa0b54_60">Retroalimentación</a>)</li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-54_108">Incorrecto</a> (<a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#sa1b54_60">Retroalimentación</a>)</li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-54_111">Incorrecto</a> (<a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#sa2b54_60">Retroalimentación</a>)</li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-54_114">Opción correcta</a> (<a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#sa3b54_60">Retroalimentación</a>)</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.4.2.- Consultas a la base de objetos.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id55">
<div class="iDevice emphasis0">
<div id="ta55_73" class="block iDevice_content">
<p>En una <strong>base de datos orientada a objetos</strong> se pueden realizar consultas mediante:</p>
<ul class="lista_verificacion">
<li>Un lenguaje de consultas como <span lang="en">OQL</span>, si el gestor está basado en el estándar <span lang="en">ODMG</span> e incluye sentencias del tipo <span lang="en">SQL</span>.</li>
<li>El <span lang="en">API</span> proporcionado por el propio sistema gestor de bases de datos orientadas a objetos.</li>
</ul>
<p>Los tres sistemas de consulta que proporciona Db4o basados en el <span lang="en">API</span> del propio gestor, son los siguientes:</p>
<ul class="lista_verificacion">
<li><strong>Consultas por ejemplo. <span lang="en">Query By Example</span> </strong>(<acronym title="Query By Example." lang="en">QBE</acronym>). Es la forma más sencilla y básica de realizar consultas, pero tienen bastantes limitaciones.</li>
<li><strong>Consultas nativas.<span lang="en"> Native Queries</span></strong> (<acronym title="Native Queries." lang="en">NQ</acronym>). Es la interface principal de consultas de la base de objetos. Permiten realizar un filtro contra todas las instancias de la base de objetos.</li>
<li><strong>Consultas SODA. <span lang="en">Simple Object Data Access</span></strong> (<acronym title="Simple Object Data Access." lang="en">SODA</acronym>). Permite generar <a class="glosario" href="./PROG_T10_files/saved_resource">consultas dinámicas<span><em>Consulta dinámica</em>Una consulta que sólo se conoce en tiempo de ejecución.</span></a>. Es más potente que las anteriores y más rápida puesto que las anteriores (<span lang="en">QBE</span> y <span lang="en">NQ</span>) tienen que ser traducidas a <span lang="en">SODA</span> para ejecutarse.</li>
</ul>
<p><strong>¿En qué consiste cada uno de estos sistemas de consulta? </strong></p>
<p>En el siguiente recurso didáctico encontrarás un resumen y ejemplos de estos sistemas de consulta. Los ejemplos se realizan sobre la base de objetos Congreso.</p>
<div class="elemento_centrado">
<div class="elemento_centrado"></div>
<div class="credenciales elemento_centrado"><a title="Resumen textual alternativo para " sistemas="" de="" consulta="" soportados="" por="" la="" base="" objetos="" db4o"."="" href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_Descripcion_Presentacion_Sistemas_consultas_db4o.html">Resumen textual alternativo</a></div>
</div>
<p> </p>
<p>Desde el siguiente enlace puedes descargar el proyecto completo en el que se realizan consultas por los diferentes sistemas vistos anteriormente a la base de objetos congreso.db4o.</p>
<div class="enlace_centrado"><a class="paquete" title="Descargar el  proyecto Java ejemplo de consulta a la base de objetos congreso. [zip - 20,4 KB]" href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R38_ConsultarCongreso.zip">Código del ejemplo de diferentes sistemas de consulta a la base de objetos.</a> <span class="tamano"> (20,4 KB) </span></div>
</div>
</div>
</div>
<div class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id56">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<form name="multi-choice-form-56_60" action="https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/recopila.php?id=6201#" onsubmit="return false" class="activity-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion56_60" class="block question iDevice_content">
<p>
<strong>Señala la opción correcta. Las consultas <span lang="en">SODA</span> en db4o:</strong>
</p>

</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i56_63" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-56_63">Opción 1</a></label><input type="radio" name="option56_60" id="i56_63" onclick="$exe.getFeedback(0,4,&#39;56_60&#39;,&#39;multi&#39;)">
</p>
<div class="iDevice_answer-content" id="answer-56_63"><a name="answer-56_63" href="./PROG_T10_files/saved_resource"></a>
<div id="taans56_63" class="block iDevice_content">
Son muy limitadas y no permiten el uso de restricciones.

</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i56_120" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-56_120">Opción 2</a></label><input type="radio" name="option56_60" id="i56_120" onclick="$exe.getFeedback(1,4,&#39;56_60&#39;,&#39;multi&#39;)">
</p>
<div class="iDevice_answer-content" id="answer-56_120"><a name="answer-56_120" href="./PROG_T10_files/saved_resource"></a>
<div id="taans56_120" class="block iDevice_content">
Necesitan de objetos Query para formularlas y en ellas se pueden indicar varias restricciones o constraints. 

</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i56_123" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-56_123">Opción 3</a></label><input type="radio" name="option56_60" id="i56_123" onclick="$exe.getFeedback(2,4,&#39;56_60&#39;,&#39;multi&#39;)">
</p>
<div class="iDevice_answer-content" id="answer-56_123"><a name="answer-56_123" href="./PROG_T10_files/saved_resource"></a>
<div id="taans56_123" class="block iDevice_content">
No necesitan ningún <span lang="en">API</span> especial.

</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i56_126" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-56_126">Opción 4</a></label><input type="radio" name="option56_60" id="i56_126" onclick="$exe.getFeedback(3,4,&#39;56_60&#39;,&#39;multi&#39;)">
</p>
<div class="iDevice_answer-content" id="answer-56_126"><a name="answer-56_126" href="./PROG_T10_files/saved_resource"></a>
<div id="taans56_126" class="block iDevice_content">
Son más lentas que la consultas nativas.

</div>
</div>
</div>
</div>
<div class="iDevice_feedbacks js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<div id="sa0b56_60" class="feedback js-hidden"><a name="sa0b56_60" href="./PROG_T10_files/saved_resource"></a>
<div id="taf56_63" class=" iDevice_content">
No es correcto, prueba de nuevo.

</div>
</div>
<div id="sa1b56_60" class="feedback js-hidden"><a name="sa1b56_60" href="./PROG_T10_files/saved_resource"></a>
<div id="taf56_120" class=" iDevice_content">
Muy bien, vamos por buen camino. 

</div>
</div>
<div id="sa2b56_60" class="feedback js-hidden"><a name="sa2b56_60" href="./PROG_T10_files/saved_resource"></a>
<div id="taf56_123" class=" iDevice_content">
No es cierto, precisamente utilizan la <span lang="en">API SODA</span>.

</div>
</div>
<div id="sa3b56_60" class="feedback js-hidden"><a name="sa3b56_60" href="./PROG_T10_files/saved_resource"></a>
<div id="taf56_126" class=" iDevice_content">
No, al contrario, son las más rápidas. 

</div>
</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-56_63">Incorrecto</a> (<a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#sa0b56_60">Retroalimentación</a>)</li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-56_120">Opción correcta</a> (<a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#sa1b56_60">Retroalimentación</a>)</li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-56_123">Incorrecto</a> (<a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#sa2b56_60">Retroalimentación</a>)</li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#answer-56_126">Incorrecto</a> (<a href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/#sa3b56_60">Retroalimentación</a>)</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id57">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Para saber más</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta57_47" class="block iDevice_content">
<p>Otro sistema gestor de bases de datos orientadas a objetos es NeoDatis. En el siguiente enlace, dispones de información sobre los sistemas de consulta de ese sistema.</p>
<p class="enlace_centrado"><a class="html" title="Acceder a ejemplos de consultas con Neodatis." href="http://neodatis.wikidot.com/queries" target="_blank">Consultas con el gestor Neodatis.</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.4.3.- Actualización de objetos simples.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id58">
<div class="iDevice emphasis0">
<div id="ta58_73" class="block iDevice_content">
<p>Recuerda que un <strong>objeto simple</strong> es un objeto que no contiene a otros objetos, como por ejemplo los objetos de la clase Ponente. Un segmento de la definición de esta clase, es la siguiente:</p>
<div class="elemento_centrado">
<div class="elemento_centrado"><a title="Ampliar imagen." href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R39_clasePonente.png"><img alt="Código java que muestra la clase ponente." class="imagen_ampliable" src="./PROG_T10_files/PROG11_CONT_R39_clasePonente_miniatura.jpg" style="width: 200px; height: 72px;" title="Clase ponente."></a></div>
</div>
<p>Para <strong>consultar objetos simples</strong> se pueden utilizar cualquiera de los tres sistemas de consulta proporcionados por db4o, tal y como has podido ver en el apartado anterior.</p>
<div class="elemento_centrado">
<div class="elemento_centrado"><img src="./PROG_T10_files/PROG11_CONT_R40_segmentoPantalla.jpg" alt="Foto que muestra un segmento de una pantalla  TFT en primer plano, donde se aprecia código java." title="Segmento de pantalla." height="148" width="200"></div>
<div class="elemento_centrado credenciales"><a class="cc-by" title="CC by" href="http://creativecommons.org/licenses/by/3.0/deed.es" target="_blank"><span class="transparente">CC by</span></a> <a title="RonLD" href="http://www.flickr.com/photos/rld/1204516152" target="_blank">RonLD</a></div>
</div>
<p>Para <strong>modificar objetos</strong> almacenados debes seguir los siguientes pasos:</p>
<ul class="lista_verificacion">
<li>Cambiar los valores del objeto con los nuevos valores.</li>
<li>Almacenar de nuevo el objeto con el método <strong><span lang="en">store</span>()</strong> de la interfaz <strong><span lang="en">ObjectContainer</span></strong>.</li>
</ul>
<p>Por ejemplo, el siguiente método permitirá modificar objetos ponente, en concreto actualizar el <span lang="en">e-mail</span> de ponentes por <acronym title="Número de Identificación Fiscal.">nif</acronym> de ponente:</p>
<div class="elemento_centrado">
<div class="elemento_centrado"><a title="Ampliar imagen." href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R41_actualizarPonentes.jpg"><img alt=" Código java modifica un objeto simple." class="imagen_ampliable" src="./PROG_T10_files/PROG11_CONT_R41_actualizarPonentes_miniatura.jpg" style="width: 200px; height: 48px;" title="Modificar ponente"></a></div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper DestacadofpdIdevice" id="id59">
<div class="iDevice emphasis0">
<div class="iDevice_destacadofpd">
<div id="ta59_70" class="block iDevice_content">
<p>db4o necesita conocer previamente un objeto para poder actualizarlo. Esto significa que para poder ser actualizados los objetos, éstos deben de haber sido insertados o recuperados en la misma sesión; en otro caso se añadirá otro objeto en vez de actualizarse.</p>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id60">
<div class="iDevice emphasis0">
<div id="ta60_73" class="block iDevice_content">
<p>Para eliminar objetos almacenados utilizaremos el método delete() de la interface ObjectContainer .</p>
<p>Por ejemplo, el siguiente método elimina un objeto ponente por su nif:</p>
<div class="elemento_centrado">
<div class="elemento_centrado"><a title="Ampliar imagen." href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R43_borrarPonentes.jpg"><img alt="Código java que elimina un objeto imple." class="imagen_ampliable" src="./PROG_T10_files/PROG11_CONT_R43_borrarPonentes_miniatura.jpg" style="width: 200px; height: 48px; margin-bottom: 5px;" title="Borrar ponentes." height="48" width="200"></a></div>
</div>
<p>Desde el siguiente enlace puedes descargar el proyecto completo. Comprueba los resultados de su ejecución.</p>
<div class="enlace_centrado"><a class="paquete" title="Descargar proyecto Java ejemplo de actualización de la base de objetos [zip - 22 KB]." href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R42_ActualizarCongreso.zip">Código del ejemplo de actualización de objetos simples.</a> <span class="tamano"> (22 KB) </span></div>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id61">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta61_54" class="block iDevice_content">
<strong>Señala si la siguiente afirmación es verdadera o falsa.</strong>

</div>
<div class="question">
<form name="true-false-form-0b61" action="https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/recopila.php?id=6201#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b61" class="block iDevice_content">
<strong>Para actualizar un objeto almacenado, db4o necesita conocerlo previamente.</strong>

</div>
<p class="iDevice_answer js-required">
<label for="true0b61"><input type="radio" name="option0b61" id="true0b61" onclick="$exe.getFeedback(0,2,&#39;0b61&#39;,&#39;truefalse&#39;)"> Verdadero</label> 
<label for="false0b61"><input type="radio" name="option0b61" id="false0b61" onclick="$exe.getFeedback(1,2,&#39;0b61&#39;,&#39;truefalse&#39;)"> Falso</label>
</p>
</form>
<div id="s0b61" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b61-result" class="right">Verdadero</strong></p>
Es verdadero, pues si no es un objeto insertado o recuperado en la misma sesión, db4o creará un nuevo objeto.

</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.4.4.- Actualización de objetos estructurados.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id62">
<div class="iDevice emphasis0">
<div id="ta62_73" class="block iDevice_content">
<div class="elemento_derecha"><a title="Ampliar imagen." href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R44_objetoEstructurado.jpg"><img alt="Dibujo que muestra una elipse verde amarillo y celeste conteniendo otras dos elipses de colores. La elipse verde rotulada como objetoA, la celeste como objetoB y la amarilla como objetoC." class="imagen_ampliable" src="./PROG_T10_files/PROG11_CONT_R44_objetoEstructurado_miniatura.jpg" style="width: 168px; height: 160px;" title="Objeto estructurado." height="160" width="168"></a></div>
<p>Los <strong>objetos estructurados</strong> son objetos que contienen a su vez a otros objetos (objetos hijo u objetos miembro).</p>
<p>En el caso de objetos estructurados se habla de diferentes <strong>niveles de profundidad del objeto</strong>. El nivel más alto, nivel 1, será el que corresponde a la definición del objeto estructurado (objeto padre), el siguiente nivel, nivel 2, corresponderá a la definición del objeto hijo y así sucesivamente podrá haber un nivel 3, 4,... dependiendo de que los objetos hijos a su vez incluyan en su definición a otro u otros objetos miembro.</p>
<p>En el siguiente ejemplo, definimos la clase Charla (objeto estructurado padre) que incorpora a un objeto Ponente (objeto miembro). El nivel más alto de profundidad o nivel 1 es el que corresponde a la definición de charla y el nivel 2 corresponderá a la definición del objeto ponente.</p>
<p>¿Cómo se almacenan, consultan y actualizan los objetos estructurados en db4o?</p>
<ul class="lista_verificacion">
<li>Los objetos estructurados se almacenan asignando valores con set() y después persistiendo el objeto con store(). Al almacenar un objeto estructurado del nivel más alto, se almacenarán de forma implícita todos los objetos hijo.</li>
<li>Las consultas se realizan por cualquiera de los sistemas soportados por el gestor y se podrá ir descendiendo por los diferentes niveles de profundidad.</li>
<li>La eliminación o borrado de un objeto estructurado se realiza mediante el método delete(). Por defecto, no se eliminarán los objetos miembro. Para eliminar objetos estructurados en cascada o de forma recursiva, eliminando los objetos miembro, habrá que configurar de modo apropiado la base de objetos antes de abrirla, mediante el paquete com.db4o.config. En el caso de modo embebido, se hará mediante la interface EmbeddedConfiguration. En la nueva configuración se debe indicar cascadeOnDelete(true).</li>
<li>La modificación se realizará actualizando los nuevos valores mediante el método set(). Por defecto las modificaciones solo afectan al nivel más alto. Para actualizar de forma recursiva todos los objeto miembro habrá que indicar en la configuración cascadeOnUpdate(true).</li>
</ul>
<p>Desde el siguiente enlace puedes descargar el proyecto completo que realiza diferentes consultas y actualización de objetos estructurados.</p>
<div class="enlace_centrado"><a class="paquete" title="Descargar proyecto java de actualización y consultas de objetos estructurados [zip - 27 KB]." href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R47_ActualizarCongresoEstructurados.zip">Código con ejemplo de actualización y consultas de objetos estructurados.</a> <span class="tamano"> (27 KB) </span></div>
<p>En este otro enlace dispones de un ejemplo con eliminación y modificación de charlas en cascada.</p>
<div class="enlace_centrado"><a class="paquete" title="Descargar proyecto java de objetos estructurados en cascada  [zip - 24,1 KB]." href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R48_EliminacionCascada.zip">Código con ejemplo de eliminación de objetos estructurados en cascada.</a> <span class="tamano"> (24,1 KB) </span></div>
</div>
</div>
</div>
<div class="iDevice_wrapper CitasparapensarfpdIdevice em_iDevice" id="id63">
<div class="iDevice emphasis_citasparapensarfpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Citas para pensar</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta63_49" class="block iDevice_content">
<blockquote>
	<p>
	"No basta saber, se debe también aplicar. No es suficiente querer, se debe también hacer".
	</p>
	<cite class="elemento_derecha"><span lang="en">Johann W. Goethe</span></cite>
</blockquote>

</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id64">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta64_54" class="block iDevice_content">
<p>
<strong>Señala si la siguiente afirmación es verdadera o falsa. </strong>
</p>

</div>
<div class="question">
<form name="true-false-form-0b64" action="https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/recopila.php?id=6201#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b64" class="block iDevice_content">
<p>
<strong>La actualización de un objeto estructurado supone la actualización de todos sus objetos hijo.</strong>
</p>

</div>
<p class="iDevice_answer js-required">
<label for="true0b64"><input type="radio" name="option0b64" id="true0b64" onclick="$exe.getFeedback(0,2,&#39;0b64&#39;,&#39;truefalse&#39;)"> Verdadero</label> 
<label for="false0b64"><input type="radio" name="option0b64" id="false0b64" onclick="$exe.getFeedback(1,2,&#39;0b64&#39;,&#39;truefalse&#39;)"> Falso</label>
</p>
</form>
<div id="s0b64" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b64-result" class="wrong">Falso</strong></p>
Es falso, para actualizar los objetos hijo al actualizar el objeto padre habrá que indicarlo expresamente, por ejemplo en db4o sería mediante cascadeOnUpdate(true).

</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.5.- Gestión de transacciones.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id73">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Caso práctico</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta73_66" class="block iDevice_content">
<p><img alt="Foto de Ana  mirando al frente." class="elemento_izquierda" src="./PROG_T10_files/CASO_PERSONAJES_09.jpg" style="width: 200px; height: 132px; float: left;" title="Foto de Ana." height="132" width="200"></p>
<p>—¡Por fin ha llegado el viernes! —dice <strong>Ana</strong> a <strong>Juan</strong>, y continúa— después de estas dos últimas semanas revisando sistemas orientados a objeto ¡he terminado agotada!, pero el esfuerzo me ha compensado. Ahora tengo mucho más claro, las características de una base de datos orientada a objetos. Pero... —se queda pensativa por un instante y entonces continúa— las transacciones, ¿se gestionan de manera similar a como se hacen en un sistema gestor relacional?</p>
<p><strong> Juan</strong> le responde, —justo es eso lo que nos queda por ver, <strong>Ana</strong>. ¿Empezamos hoy o lo dejamos para el lunes?</p>
<p><strong>Ana</strong> sonríe y le dice —Creo que <strong>Ada</strong> viene para acá, ¿no oyes sus pasos?</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id74">
<div class="iDevice emphasis0">
<div id="ta74_73" class="block iDevice_content">
<p>Como en cualquier otro Sistema de Bases de datos, en un Sistema de bases de objetos u objeto relacional, <strong>una transacción</strong> es un conjunto de sentencias que se ejecutan formando una unidad de trabajo, esto es, en forma indivisible o atómica, o se ejecutan todas o no se ejecuta ninguna.</p>
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./PROG_T10_files/PROG11_CONT_R50_acid.jpg" alt="Foto de un cartel blanco con la palabra  I like ACID en negro. El like es un emoticón." title="ACID" style="float: right;" height="156" width="200"></div>
<div class="elemento_centrado credenciales"><a class="cc-by-nc-sa" title="CC by-nc-sa" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.es" target="_blank"><span class="transparente">CC by-nc-sa</span></a> <a title="Adam Prince" href="http://www.flickr.com/photos/adam_prince/3908404628/" target="_blank">Adam Prince</a></div>
</div>
<p>Mediante la gestión de transacciones, los sistemas gestores proporcionan un acceso concurrente a los datos almacenados, mantienen la integridad y seguridad de los datos, y proporcionan un mecanismo de recuperación de la base de datos ante fallos.</p>
<p>Un ejemplo habitual para motivar la necesidad de transacciones es el traspaso de una cantidad de dinero (digamos 10000€) entre dos cuentas bancarias. Normalmente se realiza mediante dos operaciones distintas, una en la que se decrementa el saldo de la cuenta origen y otra en la que incrementamos el saldo de la cuenta destino.</p>
<p>Para garantizar la integridad del sistema (es decir, para que no aparezca o desaparezca dinero), las dos operaciones tienen que completarse por completo, o anularse íntegramente en caso de que una de ellas falle.</p>
<p>Las transacciones deben cumplir el criterio <acronym title="Atomicidad, Consistencia, Isolation, Durabilidad.">ACID</acronym>.</p>
<ul class="lista_verificacion">
<li><strong>Atomicidad</strong>. Se deben cumplir todas las operaciones de la transacción o no se cumple ninguna; no puede quedar a medias.</li>
<li><strong>Consistencia</strong>. La transacción solo termina si la base de datos queda en un estado consistente.</li>
<li><strong><span lang="en">Isolation</span></strong> (Aislamiento). Las transacciones sobre la misma información deben ser independientes, para que no interfieran sus operaciones y no se produzca ningún tipo de error.</li>
<li><strong>Durabilidad</strong>. Cuando la transacción termina el resultado de la misma perdura, y no se puede deshacer aunque falle el sistema.</li>
</ul>
<p>Algunos sistemas proporcionan también <strong>puntos de salvaguarda</strong> (<span lang="en">savepoints</span>) que permiten descartar selectivamente partes de la transacción, justo antes de acometer el resto. Así, después de definir un punto como punto de salvaguarda, puede retrocederse al mismo. Entonces se descartan todos los cambios hechos por la transacción después del punto de salvaguarda, pero se mantienen todos los anteriores.</p>
<p>Originariamente, los puntos de salvaguarda fueron una aportación del estándar <span lang="en">SQL</span>99 de las Bases de Datos Objeto-Relacionales. Pero con el tiempo, se han ido incorporando también a muchas Bases de Datos Relaciones como <span lang="en">MySQL</span> (al menos cuando se utiliza la tecnología de almacenamiento InnoDB).</p>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id75">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Para saber más</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta75_47" class="block iDevice_content">
<p>Puedes consultar el siguiente enlace para más información sobre los puntos de salvaguarda en <span lang="en">MySQL</span>:</p>
<p class="enlace_centrado"><a title="Acceder a la documentación sobre los puntos de salvaguarda en MySQL." href="http://dev.mysql.com/doc/refman/5.6/en/savepoint.html" target="_blank">Documentación sobre los puntos de salvaguarda en <span lang="en">MySQL</span>.</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.5.1.- Transacciones en un sistema gestor de base de datos orientada a objetos.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id70">
<div class="iDevice emphasis0">
<div id="ta70_73" class="block iDevice_content">
<p>Las transacciones en un sistema de objetos puro, se gestionan mediante COMMIT y <code>ROLLBACK</code> .</p>
<p>U<strong>n fallo causa un rollback de los datos</strong>, como normalmente sucede en las bases de datos relacionales. En cuanto a la concurrencia, las bases de objetos verifican en qué momento permiten el acceso en paralelo a los datos. Este acceso concurrente implica que más de una aplicación o <a class="glosario" href="./PROG_T10_files/saved_resource">hilo<span><em>Hilo</em>Un subproceso, esto es, un flujo de control secuencial independiente dentro de un proceso y está asociado con una secuencia de instrucciones, un conjunto de registros y una pila.</span></a> podrían estar leyendo o actualizando los mismos objetos a la vez. Esto se suele denominar <strong>commit de dos fases</strong> (dos procesos pueden trabajar sobre el mismo objeto concurrentemente). Para ello se utiliza normalmente bloqueo de datos para lecturas y escrituras.</p>
<p>Veamos un ejemplo sencillo con la base de objetos db4o. <strong>En db4o</strong>:</p>
<ul class="lista_verificacion">
<li>Siempre se trabaja dentro de una transacción.</li>
<li>Al abrir un ObjectContainer se crea e inicia implícitamente una transacción.</li>
<li>Las transacciones se gestionan explícitamente mediante commit y <code>rollback</code>.</li>
<li>La transacción actual hace commit implícitamente cuando se cierra el ObjectContainer.</li>
</ul>
<p>Por ejemplo, podemos deshacer una transacción con rollback, restaurando la base de objetos al estado anterior, justo al estado después del último commit o <code>rollback</code>.</p>
<p>En el siguiente ejemplo, al ejecutar db.rollback después de db.store(p3) y <code>db.store(p4)</code>, hará que los objetos p3 y p4 no se almacenen en la base de objetos.</p>
<div class="elemento_centrado">
<div class="elemento_centrado"><a title="Ampliar imagen." href="https://educacionadistancia.juntadeandalucia.es/cursos/pluginfile.php/100969/mod_scorm/content/0/PROG11_CONT_R51_commit_rollbackDb4o.jpg"><img alt="Segmento de código java de un ejemplo que usa rollback." class="imagen_ampliable" src="./PROG_T10_files/PROG11_CONT_R51_commit_rollbackDb4o_miniatura.jpg" style="width: 200px; height: 68px;" title="Ejemplo rollback."></a></div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id71">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta71_54" class="block iDevice_content">
<p><strong>Señala si la siguiente afirmación es verdadera o falsa. </strong></p>
</div>
<div class="question">
<form name="true-false-form-0b71" action="https://educacionadistancia.juntadeandalucia.es/cursos/blocks/recopila/recopila.php?id=6201#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b71" class="block iDevice_content">
<p><strong>Una transacción en db4o se deshace mediante rollback.</strong></p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b71"><input type="radio" name="option0b71" id="true0b71" onclick="$exe.getFeedback(0,2,&#39;0b71&#39;,&#39;truefalse&#39;)"> Verdadero</label> 
<label for="false0b71"><input type="radio" name="option0b71" id="false0b71" onclick="$exe.getFeedback(1,2,&#39;0b71&#39;,&#39;truefalse&#39;)"> Falso</label>
</p>
</form>
<div id="s0b71" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b71-result" class="right">Verdadero</strong></p>
<p>Es verdadero, con rollback se deshacen transacciones.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id72">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header"><h2 class="iDeviceTitle">Para saber más</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta72_47" class="block iDevice_content">
<p>En el siguiente enlace se puede consultar un ejemplo en Java usando db4o:</p>
<p class="enlace_centrado"><a class="html" title="Acceder a la web con información sobre db4o." href="https://www.programacion.com.py/escritorio/java-escritorio/uso-de-db4o-en-java" target="_blank">Uso de db4o en Java.</a></p>
<p>Desde el siguiente enlace puedes ver una presentación tipo resumen con muchos de los aspectos tratados en esta unidad.</p>
<div class="enlace_centrado"><a class="pdf" title="Descargar documento sobre persistencia de objetos y db4o [pdf - 0.61 MB]" href="http://www.mhproject.org/media/blogs/mhpenlaces/Interno/Presentaciones/db4objects/db4objects.pdf">Persistencia de objetos y db4o. </a> <span class="tamano"> (0.61 MB) </span></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">Anexo.- Estándar ODMG-93  u ODMG.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id76">
<div class="iDevice emphasis0">
<div id="ta76_73" class="block iDevice_content">
<a name="anexo_i_estndar_odmg_93_u_odmg.html" title="anexo_i_estndar_odmg_93_u_odmg.html" href="./PROG_T10_files/saved_resource"></a>

</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id77">
<div class="iDevice emphasis0">
<div id="ta77_73" class="block iDevice_content">
<a name="anexo_i_estndar_odmg93__u_odmg.html" title="anexo_i_estndar_odmg_93_u_odmg.html" href="./PROG_T10_files/saved_resource"></a>
<p>
El <strong>estándar <span lang="en">ODMG</span></strong> (Object Database Management Group) trata de estandarizar conceptos fundamentales de los Sistemas Gestores de Bases de Datos Orientados a Objetos (SGBDOO) e intenta definir un<strong> SGBDOO como un sistema que integra las capacidades de las bases de datos con las capacidades de los lenguajes de programación orientados a objetos</strong>, de manera que los objetos de la base de datos aparezcan como objetos del lenguaje de programación. 
</p>
<p>
Fué desarrollado entre los años 1993 y 1994 por representantes de un amplio conjunto de empresas relacionadas con el desarrollo de software y sistemas orientados a objetos.
</p>
<ol>
	<li><strong>Arquitectura del estándar <span lang="en">ODMG</span>
	</strong>
	<p>
	La arquitectura propuesta por <span lang="en">ODMG</span> consta de:
	</p>
	<ul class="lista_verificacion">
		<li>Un <strong>modelo de objetos </strong>que permite que tanto los diseños, como las implementaciones, sean portables entre los sistemas que lo soportan. </li>
		<li>Un <strong>sistema de gestión</strong> que soporta un lenguaje de bases de datos orientado a objetos, con una sintaxis similar a un lenguaje de programación también orientado a objetos. </li>
		<li>Un <strong>lenguaje de base de datos</strong> que es especificado mediante:
		<ul class="lista_verificacion">
			<li>Un Lenguaje de Definición de Objetos (<acronym title="Lenguaje de Definición de Objetos.">ODL</acronym>)</li>
			<li>Un Lenguaje de Manipulación de Objetos (<acronym title="Lenguaje de Manipulación de Objetos.">OML</acronym>)</li>
			<li>Un Lenguaje de Consulta (<acronym lang="en" title="Object Query Language.">OQL</acronym>) </li>
		</ul>
		<p>
		siendo todos ellos portables a otros sistemas con el fin de conseguir la portabilidad de la aplicación 	completa.
		</p>
		<strong></strong>
		</li>
		<li>Enlaces con lenguajes  Orientados a Objetos como C++, <span lang="en">Java</span>, <span lang="en">Smaltalk</span>. </li>
	</ul>
	<p>
	<strong>El modelo de objeto <span lang="en">ODMG</span></strong> es el modelo de datos en el que están basados el ODL y el <span lang="en">OQL</span>. Este modelo de objeto proporciona los tipos de datos, los constructores de tipos y otros conceptos que pueden utilizarse  en el ODL para especificar el esquema  de la base de datos de objetos.
	</p>
	<p>
	Vamos a destacar algunas de las <strong>características más relevantes</strong> del  estándar <span lang="en">ODMG</span>: 
	</p>
	<ul class="lista_verificacion">
		<li>Las primitivas básicas de modelado son los <strong>objetos</strong> y los <strong>literales</strong>.  </li>
		<li>Un objeto tiene un <strong>Identificador de Objeto</strong> (<acronym lang="en" title="Object Identifier.">OID</acronym>) y un estado (valor actual) que puede cambiar y tener una estructura compleja. Un literal no tiene <span lang="en">OID</span>, pero si un valor actual, que es constante.</li>
		<li>El estado está definido por los valores que el objeto toma para un conjunto de propiedades.Una propiedad puede ser:
		<ul>
			<li>Un atributo del objeto.</li>
			<li>Una interrelación entre el objeto y otro u otros objetos.</li>
		</ul>
		</li>
		<li>Objetos y literales están organizados en <strong>tipos</strong>.  Todos los objetos y literales de un mismo tipo tienen un comportamiento y estado común.</li>
		<li>Un objeto queda descrito por cuatro características: identificador, nombre, tiempo de vida y estructura.</li>
		<li>Los tipos de objetos se descomponen en atómicos, colecciones y tipos estructurados.
		<ul>
			<li><strong>Tipos atómicos</strong> o básicos: constan de un único elemento o valor, como un entero.   </li>
			<li><strong>Tipos estructurados</strong>: compuestos por un número fijo de elementos que pueden ser de distinto tipo, como por ejemplo una fecha.  </li>
			<li><strong>Tipos colección</strong>: número variable de elementos del mismo tipo. Entre ellos:
			<ul>
				<li>Set: grupo desordenado de elementos y sin duplicados. </li>
				<li>Bag: grupo desordenado de elementos que permite duplicados. </li>
				<li>List: grupo ordenado de elementos que permite duplicados. </li>
				<li>Array : grupo ordenado de elemntos que permite el acceso por posición.  </li>
			</ul>
			</li>
		</ul>
		</li>
	</ul>
	<p>
	Algunos fabricantes sólo ofrecen vinculaciones de lenguajes específicos, sin ofrecer capacidades completas de ODL y <span lang="en">OQL</span>.
	</p>
	</li>
</ol>

</div>
</div>
</div>
</div>
<div id="packageLicense">
<p>None</p>
</div></div>
<script type="text/javascript" src="./PROG_T10_files/_fpd_js.js.descarga"></script><div style="page-break-before: always;"></div>

</body></html>